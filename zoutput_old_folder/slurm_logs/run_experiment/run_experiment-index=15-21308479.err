Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, nvidia_gpu=1
Select jobs to execute...

[Thu Jun 13 00:41:49 2024]
rule run_experiment:
    input: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/hyperparameters.csv
    output: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/15.csv
    jobid: 0
    reason: Forced execution
    wildcards: index=15
    resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, tmpdir=/tmp, partition=gpu_p, qos=gpu_normal, nvidia_gpu=1

Failed to import backpack: cannot import name '_grad_input_padding' from 'torch.nn.grad' (/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/grad.py)
before experiment loop: 
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'44271c83'
model name: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479

 Experiment start at: 2024-06-13 00:50:17.294015
before training, model accuracy: 0.31128156185150146
epoch: 1
---- Training Domain: 
scalar performance:
{'acc': 0.9664322, 'precision': 0.7957473, 'recall': 0.5016629, 'specificity': 0.5016629, 'f1': 0.4948422, 'auroc': 0.84416395, 'binary_precision': 0.625, 'binary_recall': 0.003396739, 'binary_specificity': 0.99992913, 'binary_f1_score': 0.0067567565}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.8354257, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.958613, 'precision': 0.9792999, 'recall': 0.50383145, 'specificity': 0.50383145, 'f1': 0.4970357, 'auroc': 0.8362553, 'binary_precision': 1.0, 'binary_recall': 0.007662835, 'binary_specificity': 1.0, 'binary_f1_score': 0.015209124}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_1.png
new oracle model saved
better model found
persisted
after epoch: 1,now: 2024-06-13 01:14:43.760186,epoch time: 0:24:26.466171,used: 0:24:26.466171,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 2
---- Training Domain: 
scalar performance:
{'acc': 0.9667291, 'precision': 0.7471408, 'recall': 0.55296254, 'specificity': 0.55296254, 'f1': 0.5820101, 'auroc': 0.89561594, 'binary_precision': 0.52443, 'binary_recall': 0.109375, 'binary_specificity': 0.9965501, 'binary_f1_score': 0.18100056}
---- Validation: 
scalar performance:
{'acc': 0.96599615, 'precision': 0.7449604, 'recall': 0.53611284, 'specificity': 0.53611284, 'f1': 0.5566356, 'auroc': 0.89915806, 'binary_precision': 0.5217391, 'binary_recall': 0.07465008, 'binary_specificity': 0.99757564, 'binary_f1_score': 0.13061225}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9688399, 'precision': 0.97697663, 'recall': 0.6282691, 'specificity': 0.6282691, 'f1': 0.6956471, 'auroc': 0.88145095, 'binary_precision': 0.9852941, 'binary_recall': 0.256705, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.4072948}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_2.png
new oracle model saved
better model found
persisted
after epoch: 2,now: 2024-06-13 01:38:29.088593,epoch time: 0:23:45.328407,used: 0:48:11.794578,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 3
---- Training Domain: 
scalar performance:
{'acc': 0.9665236, 'precision': 0.7386193, 'recall': 0.60406375, 'specificity': 0.60406375, 'f1': 0.6423777, 'auroc': 0.90389407, 'binary_precision': 0.50397456, 'binary_recall': 0.21549965, 'binary_specificity': 0.9926278, 'binary_f1_score': 0.30190477}
---- Validation: 
scalar performance:
{'acc': 0.96663475, 'precision': 0.76164687, 'recall': 0.5626954, 'specificity': 0.5626954, 'f1': 0.59614474, 'auroc': 0.9084442, 'binary_precision': 0.55333334, 'binary_recall': 0.12908243, 'binary_specificity': 0.9963083, 'binary_f1_score': 0.20933165}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9705976, 'precision': 0.97292227, 'recall': 0.65117425, 'specificity': 0.65117425, 'f1': 0.7234371, 'auroc': 0.8858871, 'binary_precision': 0.97530866, 'binary_recall': 0.30268198, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.46198833}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_3.png
new oracle model saved
better model found
persisted
after epoch: 3,now: 2024-06-13 02:02:12.049685,epoch time: 0:23:42.961092,used: 1:11:54.755670,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 4
---- Training Domain: 
scalar performance:
{'acc': 0.96645504, 'precision': 0.7380268, 'recall': 0.6134747, 'specificity': 0.6134747, 'f1': 0.6515126, 'auroc': 0.90709436, 'binary_precision': 0.50217706, 'binary_recall': 0.23505434, 'binary_specificity': 0.9918951, 'binary_f1_score': 0.32022214}
---- Validation: 
scalar performance:
{'acc': 0.96674114, 'precision': 0.7561884, 'recall': 0.59050256, 'specificity': 0.59050256, 'f1': 0.6302178, 'auroc': 0.9086163, 'binary_precision': 0.5405405, 'binary_recall': 0.1866252, 'binary_specificity': 0.9943799, 'binary_f1_score': 0.27745664}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97251517, 'precision': 0.9657473, 'recall': 0.6778274, 'specificity': 0.6778274, 'f1': 0.7527031, 'auroc': 0.88711023, 'binary_precision': 0.9587629, 'binary_recall': 0.35632184, 'binary_specificity': 0.999333, 'binary_f1_score': 0.5195531}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_4.png
new oracle model saved
better model found
persisted
after epoch: 4,now: 2024-06-13 02:25:55.270278,epoch time: 0:23:43.220593,used: 1:35:37.976263,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 5
---- Training Domain: 
scalar performance:
{'acc': 0.96752834, 'precision': 0.75408196, 'recall': 0.63304585, 'specificity': 0.63304585, 'f1': 0.67283595, 'auroc': 0.9180389, 'binary_precision': 0.5329815, 'binary_recall': 0.27445653, 'binary_specificity': 0.99163514, 'binary_f1_score': 0.36233187}
---- Validation: 
scalar performance:
{'acc': 0.9675926, 'precision': 0.7783541, 'recall': 0.58869314, 'specificity': 0.58869314, 'f1': 0.6305023, 'auroc': 0.9168222, 'binary_precision': 0.585, 'binary_recall': 0.18195957, 'binary_specificity': 0.9954268, 'binary_f1_score': 0.27758005}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9717162, 'precision': 0.9642323, 'recall': 0.6682489, 'specificity': 0.6682489, 'f1': 0.7420156, 'auroc': 0.888906, 'binary_precision': 0.95652175, 'binary_recall': 0.33716476, 'binary_specificity': 0.999333, 'binary_f1_score': 0.49858356}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_5.png
better model found
persisted
after epoch: 5,now: 2024-06-13 02:49:34.687510,epoch time: 0:23:39.417232,used: 1:59:17.393495,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 6
---- Training Domain: 
scalar performance:
{'acc': 0.9668661, 'precision': 0.74433106, 'recall': 0.6287689, 'specificity': 0.6287689, 'f1': 0.6668911, 'auroc': 0.9145887, 'binary_precision': 0.51376146, 'binary_recall': 0.26630434, 'binary_specificity': 0.99123347, 'binary_f1_score': 0.350783}
---- Validation: 
scalar performance:
{'acc': 0.96695405, 'precision': 0.76017106, 'recall': 0.594363, 'specificity': 0.594363, 'f1': 0.63505566, 'auroc': 0.9154848, 'binary_precision': 0.5482456, 'binary_recall': 0.19440125, 'binary_specificity': 0.99432474, 'binary_f1_score': 0.2870264}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9713966, 'precision': 0.9796323, 'recall': 0.6589204, 'specificity': 0.6589204, 'f1': 0.7332262, 'auroc': 0.88723373, 'binary_precision': 0.9880952, 'binary_recall': 0.31800765, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.4811594}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_6.png
early stop counter: 1
val acc:0.9669540524482727, best validation acc: 0.9675925970077515, corresponding to test acc:                         0.9717162251472473 / 0.9725151658058167
after epoch: 6,now: 2024-06-13 03:13:05.095774,epoch time: 0:23:30.408264,used: 2:22:47.801759,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 7
---- Training Domain: 
scalar performance:
{'acc': 0.96750546, 'precision': 0.75200427, 'recall': 0.6511606, 'specificity': 0.6511606, 'f1': 0.68772334, 'auroc': 0.92159486, 'binary_precision': 0.5275862, 'binary_recall': 0.31203264, 'binary_specificity': 0.9902885, 'binary_f1_score': 0.39214012}
---- Validation: 
scalar performance:
{'acc': 0.96780545, 'precision': 0.77569824, 'recall': 0.60605466, 'specificity': 0.60605466, 'f1': 0.6499494, 'auroc': 0.9241588, 'binary_precision': 0.5785124, 'binary_recall': 0.21772939, 'binary_specificity': 0.9943799, 'binary_f1_score': 0.31638417}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97347397, 'precision': 0.97191155, 'recall': 0.68748933, 'specificity': 0.68748933, 'f1': 0.7638892, 'auroc': 0.8927021, 'binary_precision': 0.97029704, 'binary_recall': 0.37547892, 'binary_specificity': 0.99949974, 'binary_f1_score': 0.5414365}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_7.png
new oracle model saved
better model found
persisted
after epoch: 7,now: 2024-06-13 03:36:28.879426,epoch time: 0:23:23.783652,used: 2:46:11.585411,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 8
---- Training Domain: 
scalar performance:
{'acc': 0.9668661, 'precision': 0.7438438, 'recall': 0.6403309, 'specificity': 0.6403309, 'f1': 0.67674214, 'auroc': 0.92053413, 'binary_precision': 0.5119904, 'binary_recall': 0.29027873, 'binary_specificity': 0.990383, 'binary_f1_score': 0.37049893}
---- Validation: 
scalar performance:
{'acc': 0.9669008, 'precision': 0.75342846, 'recall': 0.6303381, 'specificity': 0.6303381, 'f1': 0.67022544, 'auroc': 0.9282349, 'binary_precision': 0.5323077, 'binary_recall': 0.2690513, 'binary_specificity': 0.9916249, 'binary_f1_score': 0.35743803}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97347397, 'precision': 0.9674225, 'recall': 0.6893217, 'specificity': 0.6893217, 'f1': 0.7651479, 'auroc': 0.89696336, 'binary_precision': 0.9611651, 'binary_recall': 0.37931034, 'binary_specificity': 0.999333, 'binary_f1_score': 0.54395604}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_8.png
early stop counter: 1
val acc:0.9669008255004883, best validation acc: 0.9678054451942444, corresponding to test acc:                         0.9734739661216736 / 0.9734739661216736
after epoch: 8,now: 2024-06-13 03:59:53.029399,epoch time: 0:23:24.149973,used: 3:09:35.735384,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 9
---- Training Domain: 
scalar performance:
{'acc': 0.9676653, 'precision': 0.755391, 'recall': 0.6406575, 'specificity': 0.6406575, 'f1': 0.67980695, 'auroc': 0.9283223, 'binary_precision': 0.5350877, 'binary_recall': 0.29008153, 'binary_specificity': 0.99123347, 'binary_f1_score': 0.37621146}
---- Validation: 
scalar performance:
{'acc': 0.96722007, 'precision': 0.7696669, 'recall': 0.58550006, 'specificity': 0.58550006, 'f1': 0.6258215, 'auroc': 0.92800236, 'binary_precision': 0.5678392, 'binary_recall': 0.17573872, 'binary_specificity': 0.99526143, 'binary_f1_score': 0.26840854}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.971077, 'precision': 0.9853512, 'recall': 0.6532567, 'specificity': 0.6532567, 'f1': 0.7271708, 'auroc': 0.88952285, 'binary_precision': 1.0, 'binary_recall': 0.3065134, 'binary_specificity': 1.0, 'binary_f1_score': 0.46920818}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_9.png
early stop counter: 2
val acc:0.9672200679779053, best validation acc: 0.9678054451942444, corresponding to test acc:                         0.9734739661216736 / 0.9734739661216736
after epoch: 9,now: 2024-06-13 04:23:11.921402,epoch time: 0:23:18.892003,used: 3:32:54.627387,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 10
---- Training Domain: 
scalar performance:
{'acc': 0.96819055, 'precision': 0.759344, 'recall': 0.6724037, 'specificity': 0.6724037, 'f1': 0.706252, 'auroc': 0.9269132, 'binary_precision': 0.54084796, 'binary_recall': 0.3552989, 'binary_specificity': 0.9895085, 'binary_f1_score': 0.42886427}
---- Validation: 
scalar performance:
{'acc': 0.968178, 'precision': 0.7789904, 'recall': 0.61824834, 'specificity': 0.61824834, 'f1': 0.66327566, 'auroc': 0.9246732, 'binary_precision': 0.58426964, 'binary_recall': 0.24261275, 'binary_specificity': 0.99388397, 'binary_f1_score': 0.34285712}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9705976, 'precision': 0.97292227, 'recall': 0.65117425, 'specificity': 0.65117425, 'f1': 0.7234371, 'auroc': 0.88914496, 'binary_precision': 0.97530866, 'binary_recall': 0.30268198, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.46198833}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_10.png
better model found
persisted
after epoch: 10,now: 2024-06-13 04:46:23.439880,epoch time: 0:23:11.518478,used: 3:56:06.145865,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 11
---- Training Domain: 
scalar performance:
{'acc': 0.9676425, 'precision': 0.752278, 'recall': 0.68326735, 'specificity': 0.68326735, 'f1': 0.71174103, 'auroc': 0.9271927, 'binary_precision': 0.5259679, 'binary_recall': 0.37839675, 'binary_specificity': 0.988138, 'binary_f1_score': 0.44014224}
---- Validation: 
scalar performance:
{'acc': 0.9677522, 'precision': 0.765514, 'recall': 0.6390295, 'specificity': 0.6390295, 'f1': 0.6806353, 'auroc': 0.93184894, 'binary_precision': 0.5558912, 'binary_recall': 0.28615862, 'binary_specificity': 0.9919004, 'binary_f1_score': 0.3778234}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97267497, 'precision': 0.9660367, 'recall': 0.6797432, 'specificity': 0.6797432, 'f1': 0.75480545, 'auroc': 0.8937325, 'binary_precision': 0.9591837, 'binary_recall': 0.36015326, 'binary_specificity': 0.999333, 'binary_f1_score': 0.52367693}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_11.png
early stop counter: 1
val acc:0.96775221824646, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 11,now: 2024-06-13 05:09:40.030344,epoch time: 0:23:16.590464,used: 4:19:22.736329,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 12
---- Training Domain: 
scalar performance:
{'acc': 0.968122, 'precision': 0.7607726, 'recall': 0.6513853, 'specificity': 0.6513853, 'f1': 0.6901721, 'auroc': 0.92804337, 'binary_precision': 0.54513067, 'binary_recall': 0.31182066, 'binary_specificity': 0.9909499, 'binary_f1_score': 0.39671564}
---- Validation: 
scalar performance:
{'acc': 0.9673265, 'precision': 0.76732206, 'recall': 0.5990562, 'specificity': 0.5990562, 'f1': 0.6411801, 'auroc': 0.934088, 'binary_precision': 0.5622318, 'binary_recall': 0.2037325, 'binary_specificity': 0.9943799, 'binary_f1_score': 0.29908678}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.970278, 'precision': 0.98495877, 'recall': 0.6436782, 'specificity': 0.6436782, 'f1': 0.7155788, 'auroc': 0.89491826, 'binary_precision': 1.0, 'binary_recall': 0.28735632, 'binary_specificity': 1.0, 'binary_f1_score': 0.44642854}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_12.png
early stop counter: 2
val acc:0.9673265218734741, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 12,now: 2024-06-13 05:33:07.303438,epoch time: 0:23:27.273094,used: 4:42:50.009423,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 13
---- Training Domain: 
scalar performance:
{'acc': 0.9676653, 'precision': 0.75428665, 'recall': 0.6531161, 'specificity': 0.6531161, 'f1': 0.6899035, 'auroc': 0.92913884, 'binary_precision': 0.5320366, 'binary_recall': 0.31589675, 'binary_specificity': 0.9903355, 'binary_f1_score': 0.39641944}
---- Validation: 
scalar performance:
{'acc': 0.966688, 'precision': 0.7499373, 'recall': 0.6339782, 'specificity': 0.6339782, 'f1': 0.6727113, 'auroc': 0.9374689, 'binary_precision': 0.52507377, 'binary_recall': 0.27682737, 'binary_specificity': 0.991129, 'binary_f1_score': 0.3625255}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97283477, 'precision': 0.9709831, 'recall': 0.6798265, 'specificity': 0.6798265, 'f1': 0.7555785, 'auroc': 0.8969068, 'binary_precision': 0.96907216, 'binary_recall': 0.36015326, 'binary_specificity': 0.99949974, 'binary_f1_score': 0.52513963}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_13.png
early stop counter: 3
val acc:0.9666879773139954, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 13,now: 2024-06-13 05:56:36.519092,epoch time: 0:23:29.215654,used: 5:06:19.225077,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 14
---- Training Domain: 
scalar performance:
{'acc': 0.96787083, 'precision': 0.75342, 'recall': 0.7039755, 'specificity': 0.7039755, 'f1': 0.725744, 'auroc': 0.9325228, 'binary_precision': 0.5268085, 'binary_recall': 0.42108843, 'binary_specificity': 0.9868626, 'binary_f1_score': 0.4680529}
---- Validation: 
scalar performance:
{'acc': 0.9675926, 'precision': 0.7590592, 'recall': 0.66969913, 'specificity': 0.66969913, 'f1': 0.70412785, 'auroc': 0.9359815, 'binary_precision': 0.54086536, 'binary_recall': 0.34992224, 'binary_specificity': 0.989476, 'binary_f1_score': 0.4249292}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97331417, 'precision': 0.9671531, 'recall': 0.68740594, 'specificity': 0.68740594, 'f1': 0.7631017, 'auroc': 0.8943279, 'binary_precision': 0.9607843, 'binary_recall': 0.37547892, 'binary_specificity': 0.999333, 'binary_f1_score': 0.5399449}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_14.png
early stop counter: 4
val acc:0.9675925970077515, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 14,now: 2024-06-13 06:20:13.848735,epoch time: 0:23:37.329643,used: 5:29:56.554720,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 15
---- Training Domain: 
scalar performance:
{'acc': 0.9684874, 'precision': 0.7613648, 'recall': 0.68829453, 'specificity': 0.68829453, 'f1': 0.7182959, 'auroc': 0.92822415, 'binary_precision': 0.54380953, 'binary_recall': 0.3879076, 'binary_specificity': 0.9886815, 'binary_f1_score': 0.4528152}
---- Validation: 
scalar performance:
{'acc': 0.968178, 'precision': 0.7706301, 'recall': 0.64675045, 'specificity': 0.64675045, 'f1': 0.68858474, 'auroc': 0.9364201, 'binary_precision': 0.56559765, 'binary_recall': 0.30171072, 'binary_specificity': 0.9917902, 'binary_f1_score': 0.39350912}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9717162, 'precision': 0.97992814, 'recall': 0.66275185, 'specificity': 0.66275185, 'f1': 0.73768425, 'auroc': 0.8911739, 'binary_precision': 0.9883721, 'binary_recall': 0.3256705, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.48991358}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_15.png
early stop counter: 5
val acc:0.9681779742240906, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 15,now: 2024-06-13 06:43:50.551684,epoch time: 0:23:36.702949,used: 5:53:33.257669,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 16
---- Training Domain: 
scalar performance:
{'acc': 0.9686016, 'precision': 0.76185864, 'recall': 0.69687796, 'specificity': 0.69687796, 'f1': 0.7242993, 'auroc': 0.9350898, 'binary_precision': 0.5442115, 'binary_recall': 0.40557066, 'binary_specificity': 0.9881852, 'binary_f1_score': 0.4647723}
---- Validation: 
scalar performance:
{'acc': 0.9677522, 'precision': 0.7628026, 'recall': 0.6555307, 'specificity': 0.6555307, 'f1': 0.6940712, 'auroc': 0.93374205, 'binary_precision': 0.54933333, 'binary_recall': 0.32037324, 'binary_specificity': 0.9906882, 'binary_f1_score': 0.40471512}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97219557, 'precision': 0.98036027, 'recall': 0.668499, 'specificity': 0.668499, 'f1': 0.7442775, 'auroc': 0.89114606, 'binary_precision': 0.98876405, 'binary_recall': 0.33716476, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.50285715}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_16.png
early stop counter: 6
val acc:0.96775221824646, best validation acc: 0.9681779742240906, corresponding to test acc:                         0.9705976247787476 / 0.9734739661216736
after epoch: 16,now: 2024-06-13 07:07:26.335705,epoch time: 0:23:35.784021,used: 6:17:09.041690,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 17
---- Training Domain: 
scalar performance:
{'acc': 0.96876144, 'precision': 0.76429445, 'recall': 0.68822837, 'specificity': 0.68822837, 'f1': 0.71923286, 'auroc': 0.93102604, 'binary_precision': 0.5496625, 'binary_recall': 0.3874915, 'binary_specificity': 0.9889653, 'binary_f1_score': 0.45454547}
---- Validation: 
scalar performance:
{'acc': 0.96972114, 'precision': 0.79173124, 'recall': 0.65955025, 'specificity': 0.65955025, 'f1': 0.7045614, 'auroc': 0.9361658, 'binary_precision': 0.6069364, 'binary_recall': 0.32659408, 'binary_specificity': 0.99250644, 'binary_f1_score': 0.42467138}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97331417, 'precision': 0.9864536, 'recall': 0.6800766, 'specificity': 0.6800766, 'f1': 0.75792253, 'auroc': 0.89908063, 'binary_precision': 1.0, 'binary_recall': 0.36015326, 'binary_specificity': 1.0, 'binary_f1_score': 0.5295775}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_17.png
better model found
persisted
after epoch: 17,now: 2024-06-13 07:31:03.073138,epoch time: 0:23:36.737433,used: 6:40:45.779123,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 18
---- Training Domain: 
scalar performance:
{'acc': 0.9694008, 'precision': 0.770754, 'recall': 0.6945891, 'specificity': 0.6945891, 'f1': 0.72582823, 'auroc': 0.9354749, 'binary_precision': 0.5621415, 'binary_recall': 0.4, 'binary_specificity': 0.9891782, 'binary_f1_score': 0.46740857}
---- Validation: 
scalar performance:
{'acc': 0.96977437, 'precision': 0.7931974, 'recall': 0.6580777, 'specificity': 0.6580777, 'f1': 0.7036226, 'auroc': 0.93765235, 'binary_precision': 0.6099707, 'binary_recall': 0.32348368, 'binary_specificity': 0.9926718, 'binary_f1_score': 0.4227642}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97219557, 'precision': 0.98036027, 'recall': 0.668499, 'specificity': 0.668499, 'f1': 0.7442775, 'auroc': 0.8970605, 'binary_precision': 0.98876405, 'binary_recall': 0.33716476, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.50285715}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_18.png
better model found
persisted
after epoch: 18,now: 2024-06-13 07:54:32.365494,epoch time: 0:23:29.292356,used: 7:04:15.071479,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 19
---- Training Domain: 
scalar performance:
{'acc': 0.96876144, 'precision': 0.76611024, 'recall': 0.6756498, 'specificity': 0.6756498, 'f1': 0.7107173, 'auroc': 0.93575466, 'binary_precision': 0.5541667, 'binary_recall': 0.36141303, 'binary_specificity': 0.9898866, 'binary_f1_score': 0.43750003}
---- Validation: 
scalar performance:
{'acc': 0.9691358, 'precision': 0.7883061, 'recall': 0.64199597, 'specificity': 0.64199597, 'f1': 0.68809974, 'auroc': 0.9426143, 'binary_precision': 0.6012862, 'binary_recall': 0.29082426, 'binary_specificity': 0.99316764, 'binary_f1_score': 0.39203355}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97251517, 'precision': 0.9657473, 'recall': 0.6778274, 'specificity': 0.6778274, 'f1': 0.7527031, 'auroc': 0.8919086, 'binary_precision': 0.9587629, 'binary_recall': 0.35632184, 'binary_specificity': 0.999333, 'binary_f1_score': 0.5195531}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_19.png
early stop counter: 1
val acc:0.9691358208656311, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 19,now: 2024-06-13 08:17:54.051556,epoch time: 0:23:21.686062,used: 7:27:36.757541,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 20
---- Training Domain: 
scalar performance:
{'acc': 0.9700174, 'precision': 0.77955997, 'recall': 0.68953437, 'specificity': 0.68953437, 'f1': 0.72509223, 'auroc': 0.93314326, 'binary_precision': 0.5801217, 'binary_recall': 0.38885114, 'binary_specificity': 0.9902176, 'binary_f1_score': 0.46560848}
---- Validation: 
scalar performance:
{'acc': 0.9683908, 'precision': 0.77323973, 'recall': 0.64986086, 'specificity': 0.64986086, 'f1': 0.6918839, 'auroc': 0.94099855, 'binary_precision': 0.57060516, 'binary_recall': 0.30793157, 'binary_specificity': 0.9917902, 'binary_f1_score': 0.4}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.97203577, 'precision': 0.9802177, 'recall': 0.6665833, 'specificity': 0.6665833, 'f1': 0.7420921, 'auroc': 0.8923157, 'binary_precision': 0.9886364, 'binary_recall': 0.33333334, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.49856734}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_20.png
early stop counter: 2
val acc:0.9683908224105835, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 20,now: 2024-06-13 08:41:23.367245,epoch time: 0:23:29.315689,used: 7:51:06.073230,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 21
---- Training Domain: 
scalar performance:
{'acc': 0.96903545, 'precision': 0.76956743, 'recall': 0.67611945, 'specificity': 0.67611945, 'f1': 0.71210474, 'auroc': 0.93158257, 'binary_precision': 0.5610526, 'binary_recall': 0.3620924, 'binary_specificity': 0.9901465, 'binary_f1_score': 0.4401321}
---- Validation: 
scalar performance:
{'acc': 0.9688165, 'precision': 0.7834018, 'recall': 0.6395805, 'specificity': 0.6395805, 'f1': 0.6848732, 'auroc': 0.9412503, 'binary_precision': 0.5916399, 'binary_recall': 0.28615862, 'binary_specificity': 0.99300236, 'binary_f1_score': 0.3857442}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9688399, 'precision': 0.9636477, 'recall': 0.6319338, 'specificity': 0.6319338, 'f1': 0.69920427, 'auroc': 0.896255, 'binary_precision': 0.9583333, 'binary_recall': 0.26436782, 'binary_specificity': 0.99949974, 'binary_f1_score': 0.41441444}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_21.png
early stop counter: 3
val acc:0.9688165187835693, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 21,now: 2024-06-13 09:04:45.834341,epoch time: 0:23:22.467096,used: 8:14:28.540326,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 22
---- Training Domain: 
scalar performance:
{'acc': 0.96892124, 'precision': 0.7656523, 'recall': 0.6925763, 'specificity': 0.6925763, 'f1': 0.72270787, 'auroc': 0.93463826, 'binary_precision': 0.5520833, 'binary_recall': 0.39632902, 'binary_specificity': 0.98882353, 'binary_f1_score': 0.4614167}
---- Validation: 
scalar performance:
{'acc': 0.9683908, 'precision': 0.77931315, 'recall': 0.62885934, 'specificity': 0.62885934, 'f1': 0.6739092, 'auroc': 0.9413339, 'binary_precision': 0.58419245, 'binary_recall': 0.2643857, 'binary_specificity': 0.993333, 'binary_f1_score': 0.3640257}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9712368, 'precision': 0.9738177, 'recall': 0.6588371, 'specificity': 0.6588371, 'f1': 0.73248917, 'auroc': 0.8907118, 'binary_precision': 0.9764706, 'binary_recall': 0.31800765, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.47976878}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_22.png
early stop counter: 4
val acc:0.9683908224105835, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 22,now: 2024-06-13 09:28:11.065954,epoch time: 0:23:25.231613,used: 8:37:53.771939,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 23
---- Training Domain: 
scalar performance:
{'acc': 0.96882993, 'precision': 0.7667004, 'recall': 0.6776524, 'specificity': 0.6776524, 'f1': 0.71238554, 'auroc': 0.93134314, 'binary_precision': 0.55521154, 'binary_recall': 0.36548913, 'binary_specificity': 0.9898157, 'binary_f1_score': 0.44080293}
---- Validation: 
scalar performance:
{'acc': 0.96871006, 'precision': 0.77784765, 'recall': 0.6515263, 'specificity': 0.6515263, 'f1': 0.6943954, 'auroc': 0.9430391, 'binary_precision': 0.5797101, 'binary_recall': 0.31104198, 'binary_specificity': 0.9920106, 'binary_f1_score': 0.4048583}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9699584, 'precision': 0.98480195, 'recall': 0.63984674, 'specificity': 0.63984674, 'f1': 0.71084654, 'auroc': 0.8943273, 'binary_precision': 1.0, 'binary_recall': 0.27969348, 'binary_specificity': 1.0, 'binary_f1_score': 0.43712574}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_23.png
early stop counter: 5
val acc:0.9687100648880005, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 23,now: 2024-06-13 09:51:39.512644,epoch time: 0:23:28.446690,used: 9:01:22.218629,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 24
---- Training Domain: 
scalar performance:
{'acc': 0.9686929, 'precision': 0.76616496, 'recall': 0.6634633, 'specificity': 0.6634633, 'f1': 0.7013674, 'auroc': 0.93464136, 'binary_precision': 0.55505615, 'binary_recall': 0.33628318, 'binary_specificity': 0.9906434, 'binary_f1_score': 0.4188215}
---- Validation: 
scalar performance:
{'acc': 0.9687633, 'precision': 0.78496903, 'recall': 0.6328025, 'specificity': 0.6328025, 'f1': 0.6787574, 'auroc': 0.9402776, 'binary_precision': 0.5952381, 'binary_recall': 0.27216175, 'binary_specificity': 0.9934432, 'binary_f1_score': 0.37353256}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96724194, 'precision': 0.98347306, 'recall': 0.6072797, 'specificity': 0.6072797, 'f1': 0.6682538, 'auroc': 0.88989687, 'binary_precision': 1.0, 'binary_recall': 0.21455939, 'binary_specificity': 1.0, 'binary_f1_score': 0.35331228}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_24.png
early stop counter: 6
val acc:0.9687632918357849, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 24,now: 2024-06-13 10:14:47.666064,epoch time: 0:23:08.153420,used: 9:24:30.372049,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 25
---- Training Domain: 
scalar performance:
{'acc': 0.97008586, 'precision': 0.77842665, 'recall': 0.6994125, 'specificity': 0.6994125, 'f1': 0.7317595, 'auroc': 0.93783486, 'binary_precision': 0.5771812, 'binary_recall': 0.4092454, 'binary_specificity': 0.9895796, 'binary_f1_score': 0.47891808}
---- Validation: 
scalar performance:
{'acc': 0.96977437, 'precision': 0.7931974, 'recall': 0.6580777, 'specificity': 0.6580777, 'f1': 0.7036226, 'auroc': 0.94211257, 'binary_precision': 0.6099707, 'binary_recall': 0.32348368, 'binary_specificity': 0.9926718, 'binary_f1_score': 0.4227642}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9694791, 'precision': 0.9776983, 'recall': 0.63593197, 'specificity': 0.63593197, 'f1': 0.7053744, 'auroc': 0.8903457, 'binary_precision': 0.9861111, 'binary_recall': 0.27203065, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.4264264}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_25.png
early stop counter: 7
val acc:0.9697743654251099, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 25,now: 2024-06-13 10:37:23.738071,epoch time: 0:22:36.072007,used: 9:47:06.444056,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 26
---- Training Domain: 
scalar performance:
{'acc': 0.97065675, 'precision': 0.7816834, 'recall': 0.7189243, 'specificity': 0.7189243, 'f1': 0.7459873, 'auroc': 0.93755007, 'binary_precision': 0.58237886, 'binary_recall': 0.4490489, 'binary_specificity': 0.98879963, 'binary_f1_score': 0.5070963}
---- Validation: 
scalar performance:
{'acc': 0.96945506, 'precision': 0.78926605, 'recall': 0.65416217, 'specificity': 0.65416217, 'f1': 0.6993022, 'auroc': 0.93837273, 'binary_precision': 0.6023739, 'binary_recall': 0.31570762, 'binary_specificity': 0.99261665, 'binary_f1_score': 0.41428572}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9689997, 'precision': 0.9771614, 'recall': 0.6301848, 'specificity': 0.6301848, 'f1': 0.6981006, 'auroc': 0.887967, 'binary_precision': 0.98550725, 'binary_recall': 0.2605364, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.4121212}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_26.png
early stop counter: 8
val acc:0.9694550633430481, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 26,now: 2024-06-13 10:59:40.250212,epoch time: 0:22:16.512141,used: 10:09:22.956197,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 27
---- Training Domain: 
scalar performance:
{'acc': 0.9692638, 'precision': 0.768663, 'recall': 0.6999715, 'specificity': 0.6999715, 'f1': 0.7287829, 'auroc': 0.93536973, 'binary_precision': 0.55760366, 'binary_recall': 0.41128483, 'binary_specificity': 0.98865813, 'binary_f1_score': 0.47339588}
---- Validation: 
scalar performance:
{'acc': 0.968923, 'precision': 0.77972525, 'recall': 0.6568869, 'specificity': 0.6568869, 'f1': 0.6994337, 'auroc': 0.9432472, 'binary_precision': 0.5830986, 'binary_recall': 0.32192847, 'binary_specificity': 0.9918453, 'binary_f1_score': 0.41482967}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96756154, 'precision': 0.9676508, 'recall': 0.6147758, 'specificity': 0.6147758, 'f1': 0.6774341, 'auroc': 0.8893385, 'binary_precision': 0.9677419, 'binary_recall': 0.22988506, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.37151703}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_27.png
early stop counter: 9
val acc:0.9689229726791382, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 27,now: 2024-06-13 11:22:09.235065,epoch time: 0:22:28.984853,used: 10:31:51.941050,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 28
---- Training Domain: 
scalar performance:
{'acc': 0.9699488, 'precision': 0.77874756, 'recall': 0.68917084, 'specificity': 0.68917084, 'f1': 0.72457296, 'auroc': 0.93502903, 'binary_precision': 0.5785208, 'binary_recall': 0.38817132, 'binary_specificity': 0.99017036, 'binary_f1_score': 0.46460536}
---- Validation: 
scalar performance:
{'acc': 0.9690826, 'precision': 0.7888583, 'recall': 0.63821816, 'specificity': 0.63821816, 'f1': 0.6846639, 'auroc': 0.94048667, 'binary_precision': 0.60264903, 'binary_recall': 0.2830482, 'binary_specificity': 0.99338806, 'binary_f1_score': 0.38518518}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.965644, 'precision': 0.98269475, 'recall': 0.5881226, 'specificity': 0.5881226, 'f1': 0.64103216, 'auroc': 0.8905751, 'binary_precision': 1.0, 'binary_recall': 0.17624521, 'binary_specificity': 1.0, 'binary_f1_score': 0.29967427}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_28.png
early stop counter: 10
val acc:0.9690825939178467, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 28,now: 2024-06-13 11:44:24.440651,epoch time: 0:22:15.205586,used: 10:54:07.146636,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 29
---- Training Domain: 
scalar performance:
{'acc': 0.9707937, 'precision': 0.78524804, 'recall': 0.7083092, 'specificity': 0.7083092, 'f1': 0.74021256, 'auroc': 0.93743694, 'binary_precision': 0.5902256, 'binary_recall': 0.42692047, 'binary_specificity': 0.9896978, 'binary_f1_score': 0.4954635}
---- Validation: 
scalar performance:
{'acc': 0.9692422, 'precision': 0.7881541, 'recall': 0.64730144, 'specificity': 0.64730144, 'f1': 0.6929358, 'auroc': 0.94512653, 'binary_precision': 0.6006192, 'binary_recall': 0.30171072, 'binary_specificity': 0.99289215, 'binary_f1_score': 0.40165633}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.964845, 'precision': 0.97075343, 'recall': 0.5803764, 'specificity': 0.5803764, 'f1': 0.6291504, 'auroc': 0.8891618, 'binary_precision': 0.9767442, 'binary_recall': 0.16091955, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.27631578}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_29.png
early stop counter: 11
val acc:0.9692422151565552, best validation acc: 0.9697743654251099, corresponding to test acc:                         0.972195565700531 / 0.9734739661216736
after epoch: 29,now: 2024-06-13 12:06:46.139093,epoch time: 0:22:21.698442,used: 11:16:28.845078,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 30
---- Training Domain: 
scalar performance:
{'acc': 0.96976614, 'precision': 0.77350813, 'recall': 0.706137, 'specificity': 0.706137, 'f1': 0.73462546, 'auroc': 0.93723166, 'binary_precision': 0.566879, 'binary_recall': 0.4235214, 'binary_specificity': 0.9887526, 'binary_f1_score': 0.4848249}
---- Validation: 
scalar performance:
{'acc': 0.9698276, 'precision': 0.7880308, 'recall': 0.67535657, 'specificity': 0.67535657, 'f1': 0.71673435, 'auroc': 0.94243735, 'binary_precision': 0.5984456, 'binary_recall': 0.3592535, 'binary_specificity': 0.9914596, 'binary_f1_score': 0.4489796}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96724194, 'precision': 0.97492766, 'recall': 0.609112, 'specificity': 0.609112, 'f1': 0.6702797, 'auroc': 0.8948388, 'binary_precision': 0.98275864, 'binary_recall': 0.21839081, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.35736677}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_30.png
better model found
persisted
after epoch: 30,now: 2024-06-13 12:29:23.328737,epoch time: 0:22:37.189644,used: 11:39:06.034722,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_17_seed_0_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
Experiment finished at epoch: 30 with time: 11:39:06.034722 at 2024-06-13 12:29:23.328737
persisted model performance metric: 

scalar performance:
{'acc': 0.96724194, 'precision': 0.97492766, 'recall': 0.609112, 'specificity': 0.609112, 'f1': 0.6702797, 'auroc': 0.8948388, 'binary_precision': 0.98275864, 'binary_recall': 0.21839081, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.35736677}
oracle model performance metric: 

scalar performance:
{'acc': 0.97347397, 'precision': 0.97191155, 'recall': 0.68748933, 'specificity': 0.68748933, 'f1': 0.7638892, 'auroc': 0.8927021, 'binary_precision': 0.97029704, 'binary_recall': 0.37547892, 'binary_specificity': 0.99949974, 'binary_f1_score': 0.5414365}
results aggregation path: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/15.csv
results aggregation path: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/15.csv
confusion matrix saved in file: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/confusion_matrix/15.csv.txt
before torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      | 204979 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool | 167936 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |  37043 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         | 204979 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool | 167936 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |  37043 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      | 201088 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool | 165120 KiB | 491712 KiB | 411860 GiB | 411860 GiB |
|       from small pool |  35968 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 727040 KiB | 727040 KiB | 727040 KiB |      0 B   |
|       from large pool | 651264 KiB | 651264 KiB | 651264 KiB |      0 B   |
|       from small pool |  75776 KiB |  75776 KiB |  75776 KiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  79692 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  67584 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |  12108 KiB |  14049 KiB |    591 GiB |    591 GiB |
|---------------------------------------------------------------------------|
| Allocations           |    3252    |    6223    |   84166 K  |   84163 K  |
|       from large pool |      36    |      76    |   28242 K  |   28242 K  |
|       from small pool |    3216    |    6186    |   55924 K  |   55920 K  |
|---------------------------------------------------------------------------|
| Active allocs         |    3252    |    6223    |   84166 K  |   84163 K  |
|       from large pool |      36    |      76    |   28242 K  |   28242 K  |
|       from small pool |    3216    |    6186    |   55924 K  |   55920 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      52    |      52    |      52    |       0    |
|       from large pool |      15    |      15    |      15    |       0    |
|       from small pool |      37    |      37    |      37    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      39    |    2753    |   37451 K  |   37451 K  |
|       from large pool |       7    |      11    |   11002 K  |   11002 K  |
|       from small pool |      32    |    2746    |   26448 K  |   26448 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

after torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool |  16640 KiB | 491712 KiB | 411860 GiB | 411860 GiB |
|       from small pool |      0 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 284672 KiB | 727040 KiB | 727040 KiB | 442368 KiB |
|       from large pool | 235520 KiB | 651264 KiB | 651264 KiB | 415744 KiB |
|       from small pool |  49152 KiB |  75776 KiB |  75776 KiB |  26624 KiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  55040 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  55040 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |      0 KiB |  19703 KiB |    591 GiB |    591 GiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |    6223    |   84166 K  |   84166 K  |
|       from large pool |       2    |      76    |   28242 K  |   28242 K  |
|       from small pool |       0    |    6186    |   55924 K  |   55924 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |    6223    |   84166 K  |   84166 K  |
|       from large pool |       2    |      76    |   28242 K  |   28242 K  |
|       from small pool |       0    |    6186    |   55924 K  |   55924 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      34    |      52    |      52    |      18    |
|       from large pool |      10    |      15    |      15    |       5    |
|       from small pool |      24    |      37    |      37    |      13    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       3    |    2753    |   37452 K  |   37452 K  |
|       from large pool |       3    |      13    |   11002 K  |   11002 K  |
|       from small pool |       0    |    2746    |   26450 K  |   26450 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB | 571737 KiB | 416118 GiB | 416118 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415529 GiB | 415529 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool |  16640 KiB | 491712 KiB | 411860 GiB | 411860 GiB |
|       from small pool |      0 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 284672 KiB | 727040 KiB | 727040 KiB | 442368 KiB |
|       from large pool | 235520 KiB | 651264 KiB | 651264 KiB | 415744 KiB |
|       from small pool |  49152 KiB |  75776 KiB |  75776 KiB |  26624 KiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  55040 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  55040 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |      0 KiB |  19703 KiB |    591 GiB |    591 GiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |    6223    |   84166 K  |   84166 K  |
|       from large pool |       2    |      76    |   28242 K  |   28242 K  |
|       from small pool |       0    |    6186    |   55924 K  |   55924 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |    6223    |   84166 K  |   84166 K  |
|       from large pool |       2    |      76    |   28242 K  |   28242 K  |
|       from small pool |       0    |    6186    |   55924 K  |   55924 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      34    |      52    |      52    |      18    |
|       from large pool |      10    |      15    |      15    |       5    |
|       from small pool |      24    |      37    |      37    |      13    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       3    |    2753    |   37452 K  |   37452 K  |
|       from large pool |       3    |      13    |   11002 K  |   11002 K  |
|       from small pool |       0    |    2746    |   26450 K  |   26450 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'44271c83'
model name: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479

 Experiment start at: 2024-06-13 12:38:52.323481
before training, model accuracy: 0.1456654816865921
epoch: 1
---- Training Domain: 
scalar performance:
{'acc': 0.96714246, 'precision': 0.78359216, 'recall': 0.5010167, 'specificity': 0.5010167, 'f1': 0.4937211, 'auroc': 0.8415469, 'binary_precision': 0.6, 'binary_recall': 0.0020804438, 'binary_specificity': 0.99995285, 'binary_f1_score': 0.00414651}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.83901036, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.8335403, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_1.png
new oracle model saved
better model found
persisted
after epoch: 1,now: 2024-06-13 13:01:34.891384,epoch time: 0:22:42.567903,used: 0:22:42.567903,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 2
---- Training Domain: 
scalar performance:
{'acc': 0.9676897, 'precision': 0.7532152, 'recall': 0.56393564, 'specificity': 0.56393564, 'f1': 0.59748524, 'auroc': 0.8958931, 'binary_precision': 0.53521127, 'binary_recall': 0.13176145, 'binary_specificity': 0.9961098, 'binary_f1_score': 0.21146356}
---- Validation: 
scalar performance:
{'acc': 0.9635539, 'precision': 0.7064837, 'recall': 0.5297645, 'specificity': 0.5297645, 'f1': 0.54545695, 'auroc': 0.8971629, 'binary_precision': 0.44680852, 'binary_recall': 0.062407132, 'binary_specificity': 0.9971218, 'binary_f1_score': 0.1095176}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9655172, 'precision': 0.9826299, 'recall': 0.5884615, 'specificity': 0.5884615, 'f1': 0.6414882, 'auroc': 0.8665386, 'binary_precision': 1.0, 'binary_recall': 0.17692308, 'binary_specificity': 1.0, 'binary_f1_score': 0.3006536}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_2.png
new oracle model saved
early stop counter: 1
val acc:0.9635539054870605, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9655172228813171
after epoch: 2,now: 2024-06-13 13:24:07.780450,epoch time: 0:22:32.889066,used: 0:45:15.456969,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 3
---- Training Domain: 
scalar performance:
{'acc': 0.96670926, 'precision': 0.7258775, 'recall': 0.5721375, 'specificity': 0.5721375, 'f1': 0.6056587, 'auroc': 0.90039885, 'binary_precision': 0.48, 'binary_recall': 0.14979196, 'binary_specificity': 0.99448293, 'binary_f1_score': 0.2283298}
---- Validation: 
scalar performance:
{'acc': 0.9642476, 'precision': 0.74089205, 'recall': 0.53656167, 'specificity': 0.53656167, 'f1': 0.5569361, 'auroc': 0.90729105, 'binary_precision': 0.5151515, 'binary_recall': 0.075780086, 'binary_specificity': 0.99734324, 'binary_f1_score': 0.13212435}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9650338, 'precision': 0.98239493, 'recall': 0.5826923, 'specificity': 0.5826923, 'f1': 0.6329539, 'auroc': 0.8749025, 'binary_precision': 1.0, 'binary_recall': 0.16538462, 'binary_specificity': 1.0, 'binary_f1_score': 0.28382838}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_3.png
better model found
persisted
after epoch: 3,now: 2024-06-13 13:46:53.359153,epoch time: 0:22:45.578703,used: 1:08:01.035672,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 4
---- Training Domain: 
scalar performance:
{'acc': 0.9673477, 'precision': 0.741013, 'recall': 0.6036181, 'specificity': 0.6036181, 'f1': 0.64237326, 'auroc': 0.9129877, 'binary_precision': 0.5082237, 'binary_recall': 0.21428572, 'binary_specificity': 0.99295044, 'binary_f1_score': 0.30146343}
---- Validation: 
scalar performance:
{'acc': 0.96611524, 'precision': 0.7946546, 'recall': 0.5711478, 'specificity': 0.5711478, 'f1': 0.60926694, 'auroc': 0.9090245, 'binary_precision': 0.62025315, 'binary_recall': 0.14561664, 'binary_specificity': 0.996679, 'binary_f1_score': 0.2358604}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9661618, 'precision': 0.9734038, 'recall': 0.59799284, 'specificity': 0.59799284, 'f1': 0.65478384, 'auroc': 0.8795564, 'binary_precision': 0.9807692, 'binary_recall': 0.19615385, 'binary_specificity': 0.9998318, 'binary_f1_score': 0.32692307}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_4.png
new oracle model saved
better model found
persisted
after epoch: 4,now: 2024-06-13 14:09:41.129040,epoch time: 0:22:47.769887,used: 1:30:48.805559,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 5
---- Training Domain: 
scalar performance:
{'acc': 0.9674161, 'precision': 0.7421042, 'recall': 0.61504185, 'specificity': 0.61504185, 'f1': 0.65382767, 'auroc': 0.9141638, 'binary_precision': 0.5096582, 'binary_recall': 0.23786408, 'binary_specificity': 0.99221957, 'binary_f1_score': 0.32434988}
---- Validation: 
scalar performance:
{'acc': 0.9652081, 'precision': 0.7594389, 'recall': 0.5849827, 'specificity': 0.5849827, 'f1': 0.62397385, 'auroc': 0.92075384, 'binary_precision': 0.5488372, 'binary_recall': 0.17533432, 'binary_specificity': 0.9946311, 'binary_f1_score': 0.26576576}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.970029, 'precision': 0.9721664, 'recall': 0.64598566, 'specificity': 0.64598566, 'f1': 0.71714956, 'auroc': 0.88262457, 'binary_precision': 0.974359, 'binary_recall': 0.2923077, 'binary_specificity': 0.99966365, 'binary_f1_score': 0.44970417}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_5.png
new oracle model saved
early stop counter: 1
val acc:0.965208113193512, best validation acc: 0.9661152362823486, corresponding to test acc:                         0.9661617875099182 / 0.9700289964675903
after epoch: 5,now: 2024-06-13 14:32:44.948638,epoch time: 0:23:03.819598,used: 1:53:52.625157,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 6
---- Training Domain: 
scalar performance:
{'acc': 0.96670926, 'precision': 0.732195, 'recall': 0.63108903, 'specificity': 0.63108903, 'f1': 0.6661468, 'auroc': 0.9169904, 'binary_precision': 0.48877805, 'binary_recall': 0.27184466, 'binary_specificity': 0.9903334, 'binary_f1_score': 0.3493761}
---- Validation: 
scalar performance:
{'acc': 0.966222, 'precision': 0.7819929, 'recall': 0.59194595, 'specificity': 0.59194595, 'f1': 0.63453007, 'auroc': 0.9142045, 'binary_precision': 0.59345794, 'binary_recall': 0.18870728, 'binary_specificity': 0.9951846, 'binary_f1_score': 0.2863585}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96890104, 'precision': 0.9639621, 'recall': 0.6343631, 'specificity': 0.6343631, 'f1': 0.70222116, 'auroc': 0.88133085, 'binary_precision': 0.9589041, 'binary_recall': 0.26923078, 'binary_specificity': 0.99949545, 'binary_f1_score': 0.42042044}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_6.png
better model found
persisted
after epoch: 6,now: 2024-06-13 14:56:15.829615,epoch time: 0:23:30.880977,used: 2:17:23.506134,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 7
---- Training Domain: 
scalar performance:
{'acc': 0.96796334, 'precision': 0.75065863, 'recall': 0.6253733, 'specificity': 0.6253733, 'f1': 0.6651972, 'auroc': 0.9245879, 'binary_precision': 0.52609307, 'binary_recall': 0.2586685, 'binary_specificity': 0.99207807, 'binary_f1_score': 0.34681544}
---- Validation: 
scalar performance:
{'acc': 0.96542156, 'precision': 0.7746379, 'recall': 0.5650659, 'specificity': 0.5650659, 'f1': 0.5998557, 'auroc': 0.92125046, 'binary_precision': 0.58064514, 'binary_recall': 0.13372956, 'binary_specificity': 0.99640226, 'binary_f1_score': 0.2173913}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9656784, 'precision': 0.9827082, 'recall': 0.5903846, 'specificity': 0.5903846, 'f1': 0.64429647, 'auroc': 0.8845415, 'binary_precision': 1.0, 'binary_recall': 0.18076923, 'binary_specificity': 1.0, 'binary_f1_score': 0.30618894}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308479_7.png
early stop counter: 1
val acc:0.9654215574264526, best validation acc: 0.9662219882011414, corresponding to test acc:                         0.9689010381698608 / 0.9700289964675903
after epoch: 7,now: 2024-06-13 15:19:36.023543,epoch time: 0:23:20.193928,used: 2:40:43.700062,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_38_52_seed_1_21308479
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
[Thu Jun 13 15:29:08 2024]
Error in rule run_experiment:
    jobid: 0
    input: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/hyperparameters.csv
    output: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/15.csv

RuleException:
OSError in file /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/benchmark.smk, line 161:
[Errno 122] Disk quota exceeded
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/benchmark.smk", line 161, in __rule_run_experiment
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/run_experiment.py", line 172, in run_experiment
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp/exp_main.py", line 77, in execute
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 49, in tr_epoch
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 68, in after_epoch
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 154, in plot_losses
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/pyplot.py", line 1119, in savefig
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/figure.py", line 3390, in savefig
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backend_bases.py", line 2193, in print_figure
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backend_bases.py", line 2043, in <lambda>
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backends/backend_agg.py", line 497, in print_png
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backends/backend_agg.py", line 446, in _print_pil
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/image.py", line 1656, in imsave
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/PIL/Image.py", line 2462, in save
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
