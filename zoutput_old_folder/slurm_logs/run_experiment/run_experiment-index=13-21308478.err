Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, nvidia_gpu=1
Select jobs to execute...

[Thu Jun 13 00:41:48 2024]
rule run_experiment:
    input: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/hyperparameters.csv
    output: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/13.csv
    jobid: 0
    reason: Forced execution
    wildcards: index=13
    resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, tmpdir=/tmp, partition=gpu_p, qos=gpu_normal, nvidia_gpu=1

Failed to import backpack: cannot import name '_grad_input_padding' from 'torch.nn.grad' (/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/grad.py)
before experiment loop: 
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'44271c83'
model name: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478

 Experiment start at: 2024-06-13 00:50:09.288101
before training, model accuracy: 0.31128156185150146
epoch: 1
---- Training Domain: 
scalar performance:
{'acc': 0.9664322, 'precision': 0.4832161, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4914648, 'auroc': 0.53559625, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.5385057, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.40367055, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_1.png
new oracle model saved
better model found
persisted
after epoch: 1,now: 2024-06-13 01:14:20.847434,epoch time: 0:24:11.559333,used: 0:24:11.559333,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 2
---- Training Domain: 
scalar performance:
{'acc': 0.96638656, 'precision': 0.48319328, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.491453, 'auroc': 0.56721646, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.5734543, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.4937782, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_2.png
early stop counter: 1
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 2,now: 2024-06-13 01:37:15.578854,epoch time: 0:22:54.731420,used: 0:47:06.290753,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 3
---- Training Domain: 
scalar performance:
{'acc': 0.96638656, 'precision': 0.48319328, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.491453, 'auroc': 0.63086665, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.60681117, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.5937313, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_3.png
early stop counter: 2
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 3,now: 2024-06-13 02:00:02.233894,epoch time: 0:22:46.655040,used: 1:09:52.945793,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 4
---- Training Domain: 
scalar performance:
{'acc': 0.9664094, 'precision': 0.4832047, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4914589, 'auroc': 0.70608395, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.6897112, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.7024572, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_4.png
early stop counter: 3
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 4,now: 2024-06-13 02:22:48.726882,epoch time: 0:22:46.492988,used: 1:32:39.438781,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 5
---- Training Domain: 
scalar performance:
{'acc': 0.9664322, 'precision': 0.4832161, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4914648, 'auroc': 0.7762171, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.75863636, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.7692665, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_5.png
early stop counter: 4
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 5,now: 2024-06-13 02:45:37.630019,epoch time: 0:22:48.903137,used: 1:55:28.341918,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 6
---- Training Domain: 
scalar performance:
{'acc': 0.9664094, 'precision': 0.4832047, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4914589, 'auroc': 0.8032913, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.81087637, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.8019664, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_6.png
early stop counter: 5
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 6,now: 2024-06-13 03:08:17.322882,epoch time: 0:22:39.692863,used: 2:18:08.034781,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 7
---- Training Domain: 
scalar performance:
{'acc': 0.96638656, 'precision': 0.48319328, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.491453, 'auroc': 0.8217381, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.8215903, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.83386254, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_7.png
early stop counter: 6
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 7,now: 2024-06-13 03:30:47.690271,epoch time: 0:22:30.367389,used: 2:40:38.402170,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 8
---- Training Domain: 
scalar performance:
{'acc': 0.96638656, 'precision': 0.4832043, 'recall': 0.4999882, 'specificity': 0.4999882, 'f1': 0.491453, 'auroc': 0.84666085, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 0.9999764, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.8337407, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.8343917, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_8.png
early stop counter: 7
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 8,now: 2024-06-13 03:53:12.974904,epoch time: 0:22:25.284633,used: 3:03:03.686803,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 9
---- Training Domain: 
scalar performance:
{'acc': 0.9664322, 'precision': 0.78325796, 'recall': 0.5019908, 'specificity': 0.5019908, 'f1': 0.4955122, 'auroc': 0.8592218, 'binary_precision': 0.6, 'binary_recall': 0.004076087, 'binary_specificity': 0.99990547, 'binary_f1_score': 0.008097166}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.48289165, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49129692, 'auroc': 0.8591091, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9582934, 'precision': 0.4791467, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.48935127, 'auroc': 0.85007125, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_9.png
early stop counter: 8
val acc:0.9657832980155945, best validation acc: 0.9657832980155945, corresponding to test acc:                         0.9582933783531189 / 0.9582933783531189
after epoch: 9,now: 2024-06-13 04:15:27.872215,epoch time: 0:22:14.897311,used: 3:25:18.584114,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 10
---- Training Domain: 
scalar performance:
{'acc': 0.96638656, 'precision': 0.7333318, 'recall': 0.50426215, 'specificity': 0.50426215, 'f1': 0.5001286, 'auroc': 0.8670791, 'binary_precision': 0.5, 'binary_recall': 0.0088315215, 'binary_specificity': 0.9996928, 'binary_f1_score': 0.017356476}
---- Validation: 
scalar performance:
{'acc': 0.9658365, 'precision': 0.98291737, 'recall': 0.5007776, 'specificity': 0.5007776, 'f1': 0.49286303, 'auroc': 0.86348915, 'binary_precision': 1.0, 'binary_recall': 0.00155521, 'binary_specificity': 1.0, 'binary_f1_score': 0.0031055901}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9589326, 'precision': 0.97945315, 'recall': 0.50766283, 'specificity': 0.50766283, 'f1': 0.5046054, 'auroc': 0.859972, 'binary_precision': 1.0, 'binary_recall': 0.01532567, 'binary_specificity': 1.0, 'binary_f1_score': 0.030188678}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_10.png
new oracle model saved
better model found
persisted
after epoch: 10,now: 2024-06-13 04:37:29.453470,epoch time: 0:22:01.581255,used: 3:47:20.165369,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 11
---- Training Domain: 
scalar performance:
{'acc': 0.9664779, 'precision': 0.75617796, 'recall': 0.50791585, 'specificity': 0.50791585, 'f1': 0.507303, 'auroc': 0.8731073, 'binary_precision': 0.54545456, 'binary_recall': 0.016304348, 'binary_specificity': 0.9995274, 'binary_f1_score': 0.03166227}
---- Validation: 
scalar performance:
{'acc': 0.9658365, 'precision': 0.782967, 'recall': 0.50227773, 'specificity': 0.50227773, 'f1': 0.49593896, 'auroc': 0.867992, 'binary_precision': 0.6, 'binary_recall': 0.00466563, 'binary_specificity': 0.9998898, 'binary_f1_score': 0.009259259}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9598913, 'precision': 0.9799136, 'recall': 0.5191571, 'specificity': 0.5191571, 'f1': 0.52665126, 'auroc': 0.8620964, 'binary_precision': 1.0, 'binary_recall': 0.038314175, 'binary_specificity': 1.0, 'binary_f1_score': 0.073800735}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_11.png
new oracle model saved
early stop counter: 1
val acc:0.9658365249633789, best validation acc: 0.9658365249633789, corresponding to test acc:                         0.9589325785636902 / 0.9598913192749023
after epoch: 11,now: 2024-06-13 04:59:32.224268,epoch time: 0:22:02.770798,used: 4:09:22.936167,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 12
---- Training Domain: 
scalar performance:
{'acc': 0.9663181, 'precision': 0.7226746, 'recall': 0.5107839, 'specificity': 0.5107839, 'f1': 0.5128434, 'auroc': 0.8765881, 'binary_precision': 0.47826087, 'binary_recall': 0.022418479, 'binary_specificity': 0.9991493, 'binary_f1_score': 0.04282933}
---- Validation: 
scalar performance:
{'acc': 0.96599615, 'precision': 0.8580441, 'recall': 0.50461054, 'specificity': 0.50461054, 'f1': 0.5005658, 'auroc': 0.87849367, 'binary_precision': 0.75, 'binary_recall': 0.00933126, 'binary_specificity': 0.9998898, 'binary_f1_score': 0.01843318}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9597315, 'precision': 0.97983676, 'recall': 0.51724136, 'specificity': 0.51724136, 'f1': 0.5230443, 'auroc': 0.86313975, 'binary_precision': 1.0, 'binary_recall': 0.03448276, 'binary_specificity': 1.0, 'binary_f1_score': 0.06666667}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_12.png
better model found
persisted
after epoch: 12,now: 2024-06-13 05:21:31.754313,epoch time: 0:21:59.530045,used: 4:31:22.466212,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 13
---- Training Domain: 
scalar performance:
{'acc': 0.9667976, 'precision': 0.7629762, 'recall': 0.5287364, 'specificity': 0.5287364, 'f1': 0.544982, 'auroc': 0.87540853, 'binary_precision': 0.5576923, 'binary_recall': 0.05910326, 'binary_specificity': 0.9983696, 'binary_f1_score': 0.10687961}
---- Validation: 
scalar performance:
{'acc': 0.9658365, 'precision': 0.7418856, 'recall': 0.5112784, 'specificity': 0.5112784, 'f1': 0.513625, 'auroc': 0.8780558, 'binary_precision': 0.51724136, 'binary_recall': 0.02332815, 'binary_specificity': 0.9992286, 'binary_f1_score': 0.044642862}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96292746, 'precision': 0.9813774, 'recall': 0.5555556, 'specificity': 0.5555556, 'f1': 0.59051204, 'auroc': 0.8695726, 'binary_precision': 1.0, 'binary_recall': 0.11111111, 'binary_specificity': 1.0, 'binary_f1_score': 0.19999999}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_13.png
new oracle model saved
early stop counter: 1
val acc:0.9658365249633789, best validation acc: 0.9659961462020874, corresponding to test acc:                         0.9597315192222595 / 0.9629274606704712
after epoch: 13,now: 2024-06-13 05:43:25.141681,epoch time: 0:21:53.387368,used: 4:53:15.853580,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 14
---- Training Domain: 
scalar performance:
{'acc': 0.96684325, 'precision': 0.7651769, 'recall': 0.52844024, 'specificity': 0.52844024, 'f1': 0.5445099, 'auroc': 0.8910513, 'binary_precision': 0.5620915, 'binary_recall': 0.05846363, 'binary_specificity': 0.99841684, 'binary_f1_score': 0.10591133}
---- Validation: 
scalar performance:
{'acc': 0.9656769, 'precision': 0.720179, 'recall': 0.5134459, 'specificity': 0.5134459, 'f1': 0.51769257, 'auroc': 0.8922485, 'binary_precision': 0.47368422, 'binary_recall': 0.02799378, 'binary_specificity': 0.998898, 'binary_f1_score': 0.052863438}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9637264, 'precision': 0.98176414, 'recall': 0.5651341, 'specificity': 0.5651341, 'f1': 0.6059669, 'auroc': 0.87807953, 'binary_precision': 1.0, 'binary_recall': 0.1302682, 'binary_specificity': 1.0, 'binary_f1_score': 0.23050848}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_14.png
new oracle model saved
early stop counter: 2
val acc:0.9656769037246704, best validation acc: 0.9659961462020874, corresponding to test acc:                         0.9597315192222595 / 0.9637264013290405
after epoch: 14,now: 2024-06-13 06:05:20.845548,epoch time: 0:21:55.703867,used: 5:15:11.557447,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 15
---- Training Domain: 
scalar performance:
{'acc': 0.96663773, 'precision': 0.74881744, 'recall': 0.5329159, 'specificity': 0.5329159, 'f1': 0.5517029, 'auroc': 0.89017344, 'binary_precision': 0.52910054, 'binary_recall': 0.06793478, 'binary_specificity': 0.99789697, 'binary_f1_score': 0.12040939}
---- Validation: 
scalar performance:
{'acc': 0.965943, 'precision': 0.75915366, 'recall': 0.51208353, 'specificity': 0.51208353, 'f1': 0.5151403, 'auroc': 0.8878683, 'binary_precision': 0.55172414, 'binary_recall': 0.02488336, 'binary_specificity': 0.99928373, 'binary_f1_score': 0.04761905}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96260786, 'precision': 0.9640558, 'recall': 0.55355644, 'specificity': 0.55355644, 'f1': 0.58698195, 'auroc': 0.8781364, 'binary_precision': 0.9655172, 'binary_recall': 0.107279696, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.19310345}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_15.png
early stop counter: 3
val acc:0.9659429788589478, best validation acc: 0.9659961462020874, corresponding to test acc:                         0.9597315192222595 / 0.9637264013290405
after epoch: 15,now: 2024-06-13 06:27:22.446128,epoch time: 0:22:01.600580,used: 5:37:13.158027,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 16
---- Training Domain: 
scalar performance:
{'acc': 0.96666056, 'precision': 0.75162274, 'recall': 0.5276896, 'specificity': 0.5276896, 'f1': 0.54310435, 'auroc': 0.88621366, 'binary_precision': 0.53503186, 'binary_recall': 0.05710401, 'binary_specificity': 0.9982751, 'binary_f1_score': 0.1031941}
---- Validation: 
scalar performance:
{'acc': 0.9656769, 'precision': 0.71657073, 'recall': 0.51044565, 'specificity': 0.51044565, 'f1': 0.5120651, 'auroc': 0.88016033, 'binary_precision': 0.46666667, 'binary_recall': 0.02177294, 'binary_specificity': 0.9991184, 'binary_f1_score': 0.041604754}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96292746, 'precision': 0.9813774, 'recall': 0.5555556, 'specificity': 0.5555556, 'f1': 0.59051204, 'auroc': 0.87214684, 'binary_precision': 1.0, 'binary_recall': 0.11111111, 'binary_specificity': 1.0, 'binary_f1_score': 0.19999999}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_16.png
early stop counter: 4
val acc:0.9656769037246704, best validation acc: 0.9659961462020874, corresponding to test acc:                         0.9597315192222595 / 0.9637264013290405
after epoch: 16,now: 2024-06-13 06:49:25.448415,epoch time: 0:22:03.002287,used: 5:59:16.160314,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 17
---- Training Domain: 
scalar performance:
{'acc': 0.96677476, 'precision': 0.7480701, 'recall': 0.5490972, 'specificity': 0.5490972, 'f1': 0.57652116, 'auroc': 0.8888818, 'binary_precision': 0.5265018, 'binary_recall': 0.101360545, 'binary_specificity': 0.9968338, 'binary_f1_score': 0.1699943}
---- Validation: 
scalar performance:
{'acc': 0.96599615, 'precision': 0.74810153, 'recall': 0.52786225, 'specificity': 0.52786225, 'f1': 0.54322803, 'auroc': 0.88804364, 'binary_precision': 0.5285714, 'binary_recall': 0.057542767, 'binary_specificity': 0.9981817, 'binary_f1_score': 0.10378682}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.965644, 'precision': 0.98269475, 'recall': 0.5881226, 'specificity': 0.5881226, 'f1': 0.64103216, 'auroc': 0.8816484, 'binary_precision': 1.0, 'binary_recall': 0.17624521, 'binary_specificity': 1.0, 'binary_f1_score': 0.29967427}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_17.png
new oracle model saved
early stop counter: 5
val acc:0.9659961462020874, best validation acc: 0.9659961462020874, corresponding to test acc:                         0.9597315192222595 / 0.9656440019607544
after epoch: 17,now: 2024-06-13 07:11:32.169062,epoch time: 0:22:06.720647,used: 6:21:22.880961,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 18
---- Training Domain: 
scalar performance:
{'acc': 0.9669118, 'precision': 0.75827515, 'recall': 0.53997505, 'specificity': 0.53997505, 'f1': 0.56312037, 'auroc': 0.89849794, 'binary_precision': 0.54751134, 'binary_recall': 0.08231293, 'binary_specificity': 0.99763715, 'binary_f1_score': 0.14311059}
---- Validation: 
scalar performance:
{'acc': 0.9660494, 'precision': 0.7548783, 'recall': 0.5241395, 'specificity': 0.5241395, 'f1': 0.5369348, 'auroc': 0.88721895, 'binary_precision': 0.5423729, 'binary_recall': 0.04976672, 'binary_specificity': 0.9985123, 'binary_f1_score': 0.0911681}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9654842, 'precision': 0.9720537, 'recall': 0.5880392, 'specificity': 0.5880392, 'f1': 0.640504, 'auroc': 0.8728055, 'binary_precision': 0.9787234, 'binary_recall': 0.17624521, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.29870132}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_18.png
better model found
persisted
after epoch: 18,now: 2024-06-13 07:33:37.108224,epoch time: 0:22:04.939162,used: 6:43:27.820123,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 19
---- Training Domain: 
scalar performance:
{'acc': 0.96611255, 'precision': 0.7222466, 'recall': 0.5382178, 'specificity': 0.5382178, 'f1': 0.55946106, 'auroc': 0.9008497, 'binary_precision': 0.47560975, 'binary_recall': 0.079483695, 'binary_specificity': 0.9969518, 'binary_f1_score': 0.13620488}
---- Validation: 
scalar performance:
{'acc': 0.96620905, 'precision': 0.76504433, 'recall': 0.5272224, 'specificity': 0.5272224, 'f1': 0.54230964, 'auroc': 0.8938362, 'binary_precision': 0.5625, 'binary_recall': 0.05598756, 'binary_specificity': 0.9984572, 'binary_f1_score': 0.10183875}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96692234, 'precision': 0.9744639, 'recall': 0.6052806, 'specificity': 0.6052806, 'f1': 0.66501725, 'auroc': 0.8787812, 'binary_precision': 0.98214287, 'binary_recall': 0.21072797, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.34700313}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_19.png
new oracle model saved
better model found
persisted
after epoch: 19,now: 2024-06-13 07:56:07.296374,epoch time: 0:22:30.188150,used: 7:05:58.008273,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 20
---- Training Domain: 
scalar performance:
{'acc': 0.96663773, 'precision': 0.74395716, 'recall': 0.55160385, 'specificity': 0.55160385, 'f1': 0.5799376, 'auroc': 0.9020456, 'binary_precision': 0.5181518, 'binary_recall': 0.10665761, 'binary_specificity': 0.9965501, 'binary_f1_score': 0.1769014}
---- Validation: 
scalar performance:
{'acc': 0.9661026, 'precision': 0.75527114, 'recall': 0.5286674, 'specificity': 0.5286674, 'f1': 0.5446577, 'auroc': 0.8982448, 'binary_precision': 0.54285717, 'binary_recall': 0.05909798, 'binary_specificity': 0.99823684, 'binary_f1_score': 0.10659186}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96740174, 'precision': 0.983551, 'recall': 0.6091954, 'specificity': 0.6091954, 'f1': 0.67088324, 'auroc': 0.87453175, 'binary_precision': 1.0, 'binary_recall': 0.21839081, 'binary_specificity': 1.0, 'binary_f1_score': 0.35849056}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_20.png
new oracle model saved
early stop counter: 1
val acc:0.9661026000976562, best validation acc: 0.9662090539932251, corresponding to test acc:                         0.9669223427772522 / 0.9674017429351807
after epoch: 20,now: 2024-06-13 08:19:09.658158,epoch time: 0:23:02.361784,used: 7:29:00.370057,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 21
---- Training Domain: 
scalar performance:
{'acc': 0.9663637, 'precision': 0.73332167, 'recall': 0.5373641, 'specificity': 0.5373641, 'f1': 0.5584438, 'auroc': 0.89611477, 'binary_precision': 0.4978166, 'binary_recall': 0.07744565, 'binary_specificity': 0.9972826, 'binary_f1_score': 0.13403879}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.7336875, 'recall': 0.5240018, 'specificity': 0.5240018, 'f1': 0.5365435, 'auroc': 0.8974618, 'binary_precision': 0.5, 'binary_recall': 0.04976672, 'binary_specificity': 0.99823684, 'binary_f1_score': 0.09052334}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96676254, 'precision': 0.9832393, 'recall': 0.6015326, 'specificity': 0.6015326, 'f1': 0.66026664, 'auroc': 0.87500453, 'binary_precision': 1.0, 'binary_recall': 0.20306513, 'binary_specificity': 1.0, 'binary_f1_score': 0.3375796}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_21.png
early stop counter: 2
val acc:0.9657832980155945, best validation acc: 0.9662090539932251, corresponding to test acc:                         0.9669223427772522 / 0.9674017429351807
after epoch: 21,now: 2024-06-13 08:41:09.829595,epoch time: 0:22:00.171437,used: 7:51:00.541494,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 22
---- Training Domain: 
scalar performance:
{'acc': 0.9665921, 'precision': 0.74153954, 'recall': 0.55912095, 'specificity': 0.55912095, 'f1': 0.5902088, 'auroc': 0.89580053, 'binary_precision': 0.51282054, 'binary_recall': 0.12228261, 'binary_specificity': 0.99595934, 'binary_f1_score': 0.19747669}
---- Validation: 
scalar performance:
{'acc': 0.9661026, 'precision': 0.75365436, 'recall': 0.5309175, 'specificity': 0.5309175, 'f1': 0.548384, 'auroc': 0.89555776, 'binary_precision': 0.5394737, 'binary_recall': 0.06376361, 'binary_specificity': 0.9980715, 'binary_f1_score': 0.11404729}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96756154, 'precision': 0.9753711, 'recall': 0.6129434, 'specificity': 0.6129434, 'f1': 0.67547756, 'auroc': 0.87865376, 'binary_precision': 0.98333335, 'binary_recall': 0.22605364, 'binary_specificity': 0.9998332, 'binary_f1_score': 0.36760128}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_22.png
new oracle model saved
early stop counter: 3
val acc:0.9661026000976562, best validation acc: 0.9662090539932251, corresponding to test acc:                         0.9669223427772522 / 0.9675615429878235
after epoch: 22,now: 2024-06-13 09:03:11.877346,epoch time: 0:22:02.047751,used: 8:13:02.589245,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 23
---- Training Domain: 
scalar performance:
{'acc': 0.9664779, 'precision': 0.73795784, 'recall': 0.55775046, 'specificity': 0.55775046, 'f1': 0.5881449, 'auroc': 0.9006768, 'binary_precision': 0.50574714, 'binary_recall': 0.11956522, 'binary_specificity': 0.99593574, 'binary_f1_score': 0.19340661}
---- Validation: 
scalar performance:
{'acc': 0.9662622, 'precision': 0.7639451, 'recall': 0.53175026, 'specificity': 0.53175026, 'f1': 0.5498971, 'auroc': 0.8989886, 'binary_precision': 0.56, 'binary_recall': 0.065318815, 'binary_specificity': 0.9981817, 'binary_f1_score': 0.11699164}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96596354, 'precision': 0.96376956, 'recall': 0.5956187, 'specificity': 0.5956187, 'f1': 0.65101707, 'auroc': 0.88046366, 'binary_precision': 0.96153843, 'binary_recall': 0.19157088, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.31948882}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_23.png
better model found
persisted
after epoch: 23,now: 2024-06-13 09:25:12.117865,epoch time: 0:22:00.240519,used: 8:35:02.829764,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 24
---- Training Domain: 
scalar performance:
{'acc': 0.9671173, 'precision': 0.75128317, 'recall': 0.5860464, 'specificity': 0.5860464, 'f1': 0.6246185, 'auroc': 0.9088254, 'binary_precision': 0.5304878, 'binary_recall': 0.17755102, 'binary_specificity': 0.9945418, 'binary_f1_score': 0.26605505}
---- Validation: 
scalar performance:
{'acc': 0.9664219, 'precision': 0.7626752, 'recall': 0.54458386, 'specificity': 0.54458386, 'f1': 0.57020646, 'auroc': 0.90220845, 'binary_precision': 0.5566038, 'binary_recall': 0.09175739, 'binary_specificity': 0.9974103, 'binary_f1_score': 0.15754338}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9680409, 'precision': 0.9686296, 'recall': 0.6205229, 'specificity': 0.6205229, 'f1': 0.6850481, 'auroc': 0.8817051, 'binary_precision': 0.9692308, 'binary_recall': 0.2413793, 'binary_specificity': 0.9996665, 'binary_f1_score': 0.38650307}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_24.png
new oracle model saved
better model found
persisted
after epoch: 24,now: 2024-06-13 09:47:13.593680,epoch time: 0:22:01.475815,used: 8:57:04.305579,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 25
---- Training Domain: 
scalar performance:
{'acc': 0.9669346, 'precision': 0.74953693, 'recall': 0.57146734, 'specificity': 0.57146734, 'f1': 0.606855, 'auroc': 0.90631664, 'binary_precision': 0.5279805, 'binary_recall': 0.1475187, 'binary_specificity': 0.995416, 'binary_f1_score': 0.23060575}
---- Validation: 
scalar performance:
{'acc': 0.96647507, 'precision': 0.76532656, 'recall': 0.5446114, 'specificity': 0.5446114, 'f1': 0.5703256, 'auroc': 0.900469, 'binary_precision': 0.5619048, 'binary_recall': 0.09175739, 'binary_specificity': 0.99746543, 'binary_f1_score': 0.157754}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9688399, 'precision': 0.9842539, 'recall': 0.62643677, 'specificity': 0.62643677, 'f1': 0.69383585, 'auroc': 0.8850353, 'binary_precision': 1.0, 'binary_recall': 0.25287357, 'binary_specificity': 1.0, 'binary_f1_score': 0.40366974}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_25.png
new oracle model saved
better model found
persisted
after epoch: 25,now: 2024-06-13 10:10:35.442013,epoch time: 0:23:21.848333,used: 9:20:26.153912,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 26
---- Training Domain: 
scalar performance:
{'acc': 0.9661582, 'precision': 0.73126537, 'recall': 0.5900949, 'specificity': 0.5900949, 'f1': 0.6266732, 'auroc': 0.9009917, 'binary_precision': 0.49019608, 'binary_recall': 0.18694766, 'binary_specificity': 0.99324214, 'binary_f1_score': 0.27066928}
---- Validation: 
scalar performance:
{'acc': 0.9663687, 'precision': 0.7507906, 'recall': 0.57080823, 'specificity': 0.57080823, 'f1': 0.6060388, 'auroc': 0.9056422, 'binary_precision': 0.53107345, 'binary_recall': 0.14618973, 'binary_specificity': 0.9954268, 'binary_f1_score': 0.22926828}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9713966, 'precision': 0.954052, 'recall': 0.6680821, 'specificity': 0.6680821, 'f1': 0.74052775, 'auroc': 0.88697, 'binary_precision': 0.9361702, 'binary_recall': 0.33716476, 'binary_specificity': 0.9989995, 'binary_f1_score': 0.49577466}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_26.png
new oracle model saved
early stop counter: 1
val acc:0.9663686752319336, best validation acc: 0.9664750695228577, corresponding to test acc:                         0.9688398838043213 / 0.9713966250419617
after epoch: 26,now: 2024-06-13 10:34:00.183649,epoch time: 0:23:24.741636,used: 9:43:50.895548,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 27
---- Training Domain: 
scalar performance:
{'acc': 0.96675193, 'precision': 0.74443096, 'recall': 0.572029, 'specificity': 0.572029, 'f1': 0.60713255, 'auroc': 0.9076575, 'binary_precision': 0.5177305, 'binary_recall': 0.14887832, 'binary_specificity': 0.9951797, 'binary_f1_score': 0.23125659}
---- Validation: 
scalar performance:
{'acc': 0.9664219, 'precision': 0.76613784, 'recall': 0.5400835, 'specificity': 0.5400835, 'f1': 0.56335074, 'auroc': 0.89672184, 'binary_precision': 0.5638298, 'binary_recall': 0.08242613, 'binary_specificity': 0.9977409, 'binary_f1_score': 0.14382634}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96628314, 'precision': 0.98300576, 'recall': 0.59578544, 'specificity': 0.59578544, 'f1': 0.65212774, 'auroc': 0.8764031, 'binary_precision': 1.0, 'binary_recall': 0.19157088, 'binary_specificity': 1.0, 'binary_f1_score': 0.3215434}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_27.png
early stop counter: 2
val acc:0.966421902179718, best validation acc: 0.9664750695228577, corresponding to test acc:                         0.9688398838043213 / 0.9713966250419617
after epoch: 27,now: 2024-06-13 10:56:37.728295,epoch time: 0:22:37.544646,used: 10:06:28.440194,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 28
---- Training Domain: 
scalar performance:
{'acc': 0.96675193, 'precision': 0.74437743, 'recall': 0.5792031, 'specificity': 0.5792031, 'f1': 0.61585486, 'auroc': 0.91467774, 'binary_precision': 0.5171674, 'binary_recall': 0.16372283, 'binary_specificity': 0.9946834, 'binary_f1_score': 0.24871002}
---- Validation: 
scalar performance:
{'acc': 0.96620905, 'precision': 0.75196403, 'recall': 0.5459738, 'specificity': 0.5459738, 'f1': 0.57195985, 'auroc': 0.90834796, 'binary_precision': 0.5350877, 'binary_recall': 0.09486781, 'binary_specificity': 0.99707973, 'binary_f1_score': 0.16116248}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9686801, 'precision': 0.9841757, 'recall': 0.6245211, 'specificity': 0.6245211, 'f1': 0.6913471, 'auroc': 0.88436806, 'binary_precision': 1.0, 'binary_recall': 0.24904214, 'binary_specificity': 1.0, 'binary_f1_score': 0.39877298}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_28.png
early stop counter: 3
val acc:0.9662090539932251, best validation acc: 0.9664750695228577, corresponding to test acc:                         0.9688398838043213 / 0.9713966250419617
after epoch: 28,now: 2024-06-13 11:19:33.234697,epoch time: 0:22:55.506402,used: 10:29:23.946596,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 29
---- Training Domain: 
scalar performance:
{'acc': 0.9668889, 'precision': 0.74862325, 'recall': 0.561664, 'specificity': 0.561664, 'f1': 0.5940681, 'auroc': 0.91012037, 'binary_precision': 0.5267606, 'binary_recall': 0.12729748, 'binary_specificity': 0.9960305, 'binary_f1_score': 0.20504385}
---- Validation: 
scalar performance:
{'acc': 0.9657833, 'precision': 0.7341627, 'recall': 0.53825283, 'specificity': 0.53825283, 'f1': 0.5597292, 'auroc': 0.90761626, 'binary_precision': 0.5, 'binary_recall': 0.07931571, 'binary_specificity': 0.99718994, 'binary_f1_score': 0.13691275}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96660274, 'precision': 0.98316145, 'recall': 0.5996169, 'specificity': 0.5996169, 'f1': 0.6575707, 'auroc': 0.885854, 'binary_precision': 1.0, 'binary_recall': 0.19923371, 'binary_specificity': 1.0, 'binary_f1_score': 0.33226836}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_29.png
early stop counter: 4
val acc:0.9657832980155945, best validation acc: 0.9664750695228577, corresponding to test acc:                         0.9688398838043213 / 0.9713966250419617
after epoch: 29,now: 2024-06-13 11:41:56.784376,epoch time: 0:22:23.549679,used: 10:51:47.496275,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 30
---- Training Domain: 
scalar performance:
{'acc': 0.9670031, 'precision': 0.752791, 'recall': 0.5685137, 'specificity': 0.5685137, 'f1': 0.60333955, 'auroc': 0.9098536, 'binary_precision': 0.5347044, 'binary_recall': 0.14130434, 'binary_specificity': 0.99572307, 'binary_f1_score': 0.22353575}
---- Validation: 
scalar performance:
{'acc': 0.96647507, 'precision': 0.76590246, 'recall': 0.5438613, 'specificity': 0.5438613, 'f1': 0.569197, 'auroc': 0.9055209, 'binary_precision': 0.5631068, 'binary_recall': 0.090202175, 'binary_specificity': 0.9975205, 'binary_f1_score': 0.15549599}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.96756154, 'precision': 0.983629, 'recall': 0.6111111, 'specificity': 0.6111111, 'f1': 0.6734965, 'auroc': 0.88757807, 'binary_precision': 1.0, 'binary_recall': 0.22222222, 'binary_specificity': 1.0, 'binary_f1_score': 0.36363637}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_30.png
early stop counter: 5
val acc:0.9664750695228577, best validation acc: 0.9664750695228577, corresponding to test acc:                         0.9688398838043213 / 0.9713966250419617
after epoch: 30,now: 2024-06-13 12:04:27.255063,epoch time: 0:22:30.470687,used: 11:14:17.966962,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_00_50_09_seed_0_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
Experiment finished at epoch: 30 with time: 11:14:17.966962 at 2024-06-13 12:04:27.255063
persisted model performance metric: 

scalar performance:
{'acc': 0.9688399, 'precision': 0.9842539, 'recall': 0.62643677, 'specificity': 0.62643677, 'f1': 0.69383585, 'auroc': 0.8850353, 'binary_precision': 1.0, 'binary_recall': 0.25287357, 'binary_specificity': 1.0, 'binary_f1_score': 0.40366974}
oracle model performance metric: 

scalar performance:
{'acc': 0.9713966, 'precision': 0.954052, 'recall': 0.6680821, 'specificity': 0.6680821, 'f1': 0.74052775, 'auroc': 0.88697, 'binary_precision': 0.9361702, 'binary_recall': 0.33716476, 'binary_specificity': 0.9989995, 'binary_f1_score': 0.49577466}
results aggregation path: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/13.csv
results aggregation path: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/13.csv
confusion matrix saved in file: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/confusion_matrix/13.csv.txt
before torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      | 204979 KiB | 571737 KiB | 416119 GiB | 416118 GiB |
|       from large pool | 167936 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |  37043 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         | 204979 KiB | 571737 KiB | 416119 GiB | 416118 GiB |
|       from large pool | 167936 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |  37043 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      | 201088 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool | 165120 KiB | 491712 KiB | 411861 GiB | 411860 GiB |
|       from small pool |  35968 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 727040 KiB | 727040 KiB | 727040 KiB |      0 B   |
|       from large pool | 651264 KiB | 651264 KiB | 651264 KiB |      0 B   |
|       from small pool |  75776 KiB |  75776 KiB |  75776 KiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  79692 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  67584 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |  12108 KiB |  14040 KiB |    592 GiB |    592 GiB |
|---------------------------------------------------------------------------|
| Allocations           |    3252    |    6223    |   84170 K  |   84166 K  |
|       from large pool |      36    |      76    |   28243 K  |   28242 K  |
|       from small pool |    3216    |    6186    |   55927 K  |   55923 K  |
|---------------------------------------------------------------------------|
| Active allocs         |    3252    |    6223    |   84170 K  |   84166 K  |
|       from large pool |      36    |      76    |   28243 K  |   28242 K  |
|       from small pool |    3216    |    6186    |   55927 K  |   55923 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      52    |      52    |      52    |       0    |
|       from large pool |      15    |      15    |      15    |       0    |
|       from small pool |      37    |      37    |      37    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      39    |    2754    |   37418 K  |   37418 K  |
|       from large pool |       7    |      11    |   11002 K  |   11002 K  |
|       from small pool |      32    |    2747    |   26415 K  |   26415 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

after torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB | 571737 KiB | 416119 GiB | 416119 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB | 571737 KiB | 416119 GiB | 416119 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool |  16640 KiB | 491712 KiB | 411861 GiB | 411861 GiB |
|       from small pool |      0 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 284672 KiB | 727040 KiB | 727040 KiB | 442368 KiB |
|       from large pool | 235520 KiB | 651264 KiB | 651264 KiB | 415744 KiB |
|       from small pool |  49152 KiB |  75776 KiB |  75776 KiB |  26624 KiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  55040 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  55040 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |      0 KiB |  19703 KiB |    592 GiB |    592 GiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |    6223    |   84170 K  |   84170 K  |
|       from large pool |       2    |      76    |   28243 K  |   28243 K  |
|       from small pool |       0    |    6186    |   55927 K  |   55927 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |    6223    |   84170 K  |   84170 K  |
|       from large pool |       2    |      76    |   28243 K  |   28243 K  |
|       from small pool |       0    |    6186    |   55927 K  |   55927 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      34    |      52    |      52    |      18    |
|       from large pool |      10    |      15    |      15    |       5    |
|       from small pool |      24    |      37    |      37    |      13    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       3    |    2754    |   37419 K  |   37419 K  |
|       from large pool |       3    |      13    |   11002 K  |   11002 K  |
|       from small pool |       0    |    2747    |   26416 K  |   26416 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB | 571737 KiB | 416119 GiB | 416119 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB | 571737 KiB | 416119 GiB | 416119 GiB |
|       from large pool |  16640 KiB | 499008 KiB | 415530 GiB | 415530 GiB |
|       from small pool |      0 KiB |  75475 KiB |    588 GiB |    588 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB | 563304 KiB | 412431 GiB | 412431 GiB |
|       from large pool |  16640 KiB | 491712 KiB | 411861 GiB | 411861 GiB |
|       from small pool |      0 KiB |  74337 KiB |    570 GiB |    570 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   | 284672 KiB | 727040 KiB | 727040 KiB | 442368 KiB |
|       from large pool | 235520 KiB | 651264 KiB | 651264 KiB | 415744 KiB |
|       from small pool |  49152 KiB |  75776 KiB |  75776 KiB |  26624 KiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  55040 KiB | 209453 KiB | 260311 GiB | 260311 GiB |
|       from large pool |  55040 KiB | 208064 KiB | 259719 GiB | 259719 GiB |
|       from small pool |      0 KiB |  19703 KiB |    592 GiB |    592 GiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |    6223    |   84170 K  |   84170 K  |
|       from large pool |       2    |      76    |   28243 K  |   28243 K  |
|       from small pool |       0    |    6186    |   55927 K  |   55927 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |    6223    |   84170 K  |   84170 K  |
|       from large pool |       2    |      76    |   28243 K  |   28243 K  |
|       from small pool |       0    |    6186    |   55927 K  |   55927 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      34    |      52    |      52    |      18    |
|       from large pool |      10    |      15    |      15    |       5    |
|       from small pool |      24    |      37    |      37    |      13    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       3    |    2754    |   37419 K  |   37419 K  |
|       from large pool |       3    |      13    |   11002 K  |   11002 K  |
|       from small pool |       0    |    2747    |   26416 K  |   26416 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'44271c83'
model name: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478

 Experiment start at: 2024-06-13 12:13:56.362479
before training, model accuracy: 0.1456654816865921
epoch: 1
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.44935086, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.3985961, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.33506754, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_1.png
new oracle model saved
better model found
persisted
after epoch: 1,now: 2024-06-13 12:37:07.923012,epoch time: 0:23:11.560533,used: 0:23:11.560533,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 2
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.54270494, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.50966215, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.42851496, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_2.png
early stop counter: 1
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 2,now: 2024-06-13 13:00:23.894596,epoch time: 0:23:15.971584,used: 0:46:27.532117,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 3
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.62613976, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.58115345, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.5526712, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_3.png
early stop counter: 2
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 3,now: 2024-06-13 13:23:04.426244,epoch time: 0:22:40.531648,used: 1:09:08.063765,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 4
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.69406915, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.6609771, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.66550326, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_4.png
early stop counter: 3
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 4,now: 2024-06-13 13:46:53.327230,epoch time: 0:23:48.900986,used: 1:32:56.964751,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 5
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.75105083, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.7439536, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.7449384, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_5.png
early stop counter: 4
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 5,now: 2024-06-13 14:09:22.226287,epoch time: 0:22:28.899057,used: 1:55:25.863808,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 6
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.806944, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.80091536, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.7895586, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_6.png
early stop counter: 5
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 6,now: 2024-06-13 14:31:15.878838,epoch time: 0:21:53.652551,used: 2:17:19.516359,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 7
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.82301843, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.8340445, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.8155301, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_7.png
early stop counter: 6
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 7,now: 2024-06-13 14:52:56.524549,epoch time: 0:21:40.645711,used: 2:39:00.162070,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
epoch: 8
---- Training Domain: 
scalar performance:
{'acc': 0.9671197, 'precision': 0.48355985, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49164253, 'auroc': 0.8366985, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Validation: 
scalar performance:
{'acc': 0.9640875, 'precision': 0.48204374, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.49085772, 'auroc': 0.8281734, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.9581051, 'precision': 0.47905254, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.4893022, 'auroc': 0.8269562, 'binary_precision': 0.0, 'binary_recall': 0.0, 'binary_specificity': 1.0, 'binary_f1_score': 0.0}
t-SNE plot saved as /localscratch/sina.wendrich/tsne/t-SNE_Test_center0_21308478_8.png
early stop counter: 7
val acc:0.9640874862670898, best validation acc: 0.9640874862670898, corresponding to test acc:                         0.9581050872802734 / 0.9581050872802734
after epoch: 8,now: 2024-06-13 15:14:32.481142,epoch time: 0:21:35.956593,used: 3:00:36.118663,model: dset_te_center0_erm_b44271c83_not_commited_2024md_06md_13_12_13_56_seed_1_21308478
working direcotry: /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab
[Thu Jun 13 15:23:22 2024]
Error in rule run_experiment:
    jobid: 0
    input: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/hyperparameters.csv
    output: zoutput/benchmarks/CAMELYON_center0_erm_vit_resnet_dinov2_bs16_different_learningrates/rule_results/13.csv

RuleException:
OSError in file /ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/benchmark.smk, line 161:
[Errno 122] Disk quota exceeded
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/benchmark.smk", line 161, in __rule_run_experiment
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp_protocol/run_experiment.py", line 172, in run_experiment
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/exp/exp_main.py", line 77, in execute
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 49, in tr_epoch
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 68, in after_epoch
  File "/ictstr01/groups/aih/sina.wendrich/MA_code/MA_thesis/DomainLab/domainlab/algos/trainers/train_basic.py", line 154, in plot_losses
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/pyplot.py", line 1119, in savefig
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/figure.py", line 3390, in savefig
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backend_bases.py", line 2193, in print_figure
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backend_bases.py", line 2043, in <lambda>
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backends/backend_agg.py", line 497, in print_png
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/backends/backend_agg.py", line 446, in _print_pil
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/matplotlib/image.py", line 1656, in imsave
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/PIL/Image.py", line 2462, in save
  File "/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
