Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, nvidia_gpu=1
Select jobs to execute...

[Tue Jul 16 11:34:19 2024]
rule run_experiment:
    input: zoutput/benchmarks/CAMELYONWILD_center0_dinov2small_erm_irm_dial_lr1e5_bs16_classbalancing10_nofreezing/hyperparameters.csv
    output: zoutput/benchmarks/CAMELYONWILD_center0_dinov2small_erm_irm_dial_lr1e5_bs16_classbalancing10_nofreezing/rule_results/7.csv
    jobid: 0
    reason: Forced execution
    wildcards: index=7
    resources: mem_mb=100000, mem_mib=95368, disk_mb=1000, disk_mib=954, tmpdir=/tmp, partition=gpu_p, qos=gpu_normal, nvidia_gpu=1

Failed to import backpack: cannot import name '_grad_input_padding' from 'torch.nn.grad' (/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/grad.py)
before experiment loop: 
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Active memory         |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Requested memory      |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| GPU reserved memory   |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |      0 B   |      0 B   |      0 B   |      0 B   |
|       from large pool |      0 B   |      0 B   |      0 B   |      0 B   |
|       from small pool |      0 B   |      0 B   |      0 B   |      0 B   |
|---------------------------------------------------------------------------|
| Allocations           |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Active allocs         |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| GPU reserved segments |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       0    |       0    |       0    |       0    |
|       from large pool |       0    |       0    |       0    |       0    |
|       from small pool |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

Using cache found in /home/aih/sina.wendrich/.cache/torch/hub/facebookresearch_dinov2_main
/home/aih/sina.wendrich/.cache/torch/hub/facebookresearch_dinov2_main/dinov2/layers/swiglu_ffn.py:51: UserWarning: xFormers is not available (SwiGLU)
  warnings.warn("xFormers is not available (SwiGLU)")
/home/aih/sina.wendrich/.cache/torch/hub/facebookresearch_dinov2_main/dinov2/layers/attention.py:33: UserWarning: xFormers is not available (Attention)
  warnings.warn("xFormers is not available (Attention)")
/home/aih/sina.wendrich/.cache/torch/hub/facebookresearch_dinov2_main/dinov2/layers/block.py:40: UserWarning: xFormers is not available (Block)
  warnings.warn("xFormers is not available (Block)")
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'44271c83'
model name: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189

 Experiment start at: 2024-07-16 13:12:11.633178
epoch: 1
---- Training Domain: 
scalar performance:
{'acc': 0.50040716, 'precision': 0.25020358, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351424, 'auroc': 0.5, 'binary_precision': 0.50040716, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6670285}
confusion matrix:
   0       1
0  0  138663
1  0  138889
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
new oracle model saved
better model found
persisted
after epoch: 1,now: 2024-07-16 19:32:26.059262,epoch time: 6:20:14.426084,used: 6:20:14.426084,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
epoch: 2
---- Training Domain: 
scalar performance:
{'acc': 0.5004035, 'precision': 0.25020176, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351263, 'auroc': 0.5, 'binary_precision': 0.5004035, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66702527}
confusion matrix:
   0       1
0  0  138664
1  0  138888
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
early stop counter: 1
val acc:0.4990585148334503, best validation acc: 0.4990585148334503, corresponding to test acc:                         0.5003725290298462 / 0.5003725290298462
after epoch: 2,now: 2024-07-17 01:29:18.928414,epoch time: 5:56:52.869152,used: 12:17:07.295236,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
epoch: 3
---- Training Domain: 
scalar performance:
{'acc': 0.5004035, 'precision': 0.25020176, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351263, 'auroc': 0.5, 'binary_precision': 0.5004035, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66702527}
confusion matrix:
   0       1
0  0  138664
1  0  138888
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
early stop counter: 2
val acc:0.4990585148334503, best validation acc: 0.4990585148334503, corresponding to test acc:                         0.5003725290298462 / 0.5003725290298462
after epoch: 3,now: 2024-07-17 06:39:06.236206,epoch time: 5:09:47.307792,used: 17:26:54.603028,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
epoch: 4
---- Training Domain: 
scalar performance:
{'acc': 0.5004035, 'precision': 0.25020176, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351263, 'auroc': 0.5, 'binary_precision': 0.5004035, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66702527}
confusion matrix:
   0       1
0  0  138664
1  0  138888
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
early stop counter: 3
val acc:0.4990585148334503, best validation acc: 0.4990585148334503, corresponding to test acc:                         0.5003725290298462 / 0.5003725290298462
after epoch: 4,now: 2024-07-17 12:43:59.921987,epoch time: 6:04:53.685781,used: 23:31:48.288809,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
epoch: 5
---- Training Domain: 
scalar performance:
{'acc': 0.50039995, 'precision': 0.25019997, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351105, 'auroc': 0.5, 'binary_precision': 0.50039995, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6670221}
confusion matrix:
   0       1
0  0  138665
1  0  138887
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
early stop counter: 4
val acc:0.4990585148334503, best validation acc: 0.4990585148334503, corresponding to test acc:                         0.5003725290298462 / 0.5003725290298462
after epoch: 5,now: 2024-07-17 20:43:15.971391,epoch time: 7:59:16.049404,used: 1 day, 7:31:04.338213,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
epoch: 6
---- Training Domain: 
scalar performance:
{'acc': 0.50040716, 'precision': 0.25020358, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33351424, 'auroc': 0.5, 'binary_precision': 0.50040716, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6670285}
confusion matrix:
   0       1
0  0  138663
1  0  138889
---- Validation: 
scalar performance:
{'acc': 0.4990585, 'precision': 0.24952926, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33291465, 'auroc': 0.5, 'binary_precision': 0.4990585, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.6658293}
confusion matrix:
   0      1
0  0  59592
1  0  59368
---- Test Domain (oracle): 
scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
early stop counter: 5
val acc:0.4990585148334503, best validation acc: 0.4990585148334503, corresponding to test acc:                         0.5003725290298462 / 0.5003725290298462
after epoch: 6,now: 2024-07-18 02:05:07.084769,epoch time: 5:21:51.113378,used: 1 day, 12:52:55.451591,model: dset_te_0_dann_b44271c83_not_commited_2024md_07md_16_13_12_11_seed_0_22014189
working direcotry: /ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab
early stop trigger
Experiment finished at epoch: 6 with time: 1 day, 12:52:55.451591 at 2024-07-18 02:05:07.084769
persisted model performance metric: 

scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
oracle model performance metric: 

scalar performance:
{'acc': 0.5003725, 'precision': 0.25018626, 'recall': 0.5, 'specificity': 0.5, 'f1': 0.33349887, 'auroc': 0.5, 'binary_precision': 0.5003725, 'binary_recall': 1.0, 'binary_specificity': 0.0, 'binary_f1_score': 0.66699773}
confusion matrix:
   0      1
0  0  20789
1  0  20820
results aggregation path: zoutput/benchmarks/CAMELYONWILD_center0_dinov2small_erm_irm_dial_lr1e5_bs16_classbalancing10_nofreezing/rule_results/7.csv
results aggregation path: zoutput/benchmarks/CAMELYONWILD_center0_dinov2small_erm_irm_dial_lr1e5_bs16_classbalancing10_nofreezing/rule_results/7.csv
confusion matrix saved in file: zoutput/benchmarks/CAMELYONWILD_center0_dinov2small_erm_irm_dial_lr1e5_bs16_classbalancing10_nofreezing/confusion_matrix/7.csv.txt
before torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      | 460176 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool | 411852 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |  48324 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Active memory         | 460176 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool | 411852 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |  48324 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Requested memory      | 449411 KiB |   3597 MiB |   1968 TiB |   1968 TiB |
|       from large pool | 407075 KiB |   3563 MiB |   1944 TiB |   1944 TiB |
|       from small pool |  42336 KiB |     59 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |   4016 MiB |   4016 MiB |   4016 MiB |      0 B   |
|       from large pool |   3950 MiB |   3950 MiB |   3950 MiB |      0 B   |
|       from small pool |     66 MiB |     66 MiB |     66 MiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory | 340591 KiB | 501557 KiB |   1397 TiB |   1397 TiB |
|       from large pool | 325428 KiB | 497885 KiB |   1373 TiB |   1373 TiB |
|       from small pool |  15163 KiB |  16610 KiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Allocations           |   16762    |   35699    |  351331 K  |  351314 K  |
|       from large pool |     187    |     468    |  184719 K  |  184719 K  |
|       from small pool |   16575    |   35511    |  166611 K  |  166595 K  |
|---------------------------------------------------------------------------|
| Active allocs         |   16762    |   35699    |  351331 K  |  351314 K  |
|       from large pool |     187    |     468    |  184719 K  |  184719 K  |
|       from small pool |   16575    |   35511    |  166611 K  |  166595 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |     198    |     198    |     198    |       0    |
|       from large pool |     165    |     165    |     165    |       0    |
|       from small pool |      33    |      33    |      33    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      74    |   17390    |  207031 K  |  207031 K  |
|       from large pool |      39    |     167    |  121673 K  |  121673 K  |
|       from small pool |      35    |   17351    |   85357 K  |   85357 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

after torch memory clean up
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool |  16640 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |      0 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool |  16640 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |      0 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB |   3597 MiB |   1968 TiB |   1968 TiB |
|       from large pool |  16640 KiB |   3563 MiB |   1944 TiB |   1944 TiB |
|       from small pool |      0 KiB |     59 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |    782 MiB |   4016 MiB |   4016 MiB |   3234 MiB |
|       from large pool |    720 MiB |   3950 MiB |   3950 MiB |   3230 MiB |
|       from small pool |     62 MiB |     66 MiB |     66 MiB |      4 MiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  24320 KiB | 501557 KiB |   1397 TiB |   1397 TiB |
|       from large pool |  24320 KiB | 497885 KiB |   1373 TiB |   1373 TiB |
|       from small pool |      0 KiB |  47694 KiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |   35699    |  351331 K  |  351331 K  |
|       from large pool |       2    |     468    |  184719 K  |  184719 K  |
|       from small pool |       0    |   35511    |  166611 K  |  166611 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |   35699    |  351331 K  |  351331 K  |
|       from large pool |       2    |     468    |  184719 K  |  184719 K  |
|       from small pool |       0    |   35511    |  166611 K  |  166611 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      64    |     198    |     198    |     134    |
|       from large pool |      33    |     165    |     165    |     132    |
|       from small pool |      31    |      33    |      33    |       2    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       4    |   17390    |  207039 K  |  207039 K  |
|       from large pool |       4    |     167    |  121673 K  |  121673 K  |
|       from small pool |       0    |   17351    |   85365 K  |   85365 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|

before experiment starts
|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  16640 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool |  16640 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |      0 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Active memory         |  16640 KiB |   3600 MiB |   1969 TiB |   1969 TiB |
|       from large pool |  16640 KiB |   3565 MiB |   1946 TiB |   1946 TiB |
|       from small pool |      0 KiB |     65 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Requested memory      |  16640 KiB |   3597 MiB |   1968 TiB |   1968 TiB |
|       from large pool |  16640 KiB |   3563 MiB |   1944 TiB |   1944 TiB |
|       from small pool |      0 KiB |     59 MiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |    782 MiB |   4016 MiB |   4016 MiB |   3234 MiB |
|       from large pool |    720 MiB |   3950 MiB |   3950 MiB |   3230 MiB |
|       from small pool |     62 MiB |     66 MiB |     66 MiB |      4 MiB |
|---------------------------------------------------------------------------|
| Non-releasable memory |  24320 KiB | 501557 KiB |   1397 TiB |   1397 TiB |
|       from large pool |  24320 KiB | 497885 KiB |   1373 TiB |   1373 TiB |
|       from small pool |      0 KiB |  47694 KiB |     23 TiB |     23 TiB |
|---------------------------------------------------------------------------|
| Allocations           |       2    |   35699    |  351331 K  |  351331 K  |
|       from large pool |       2    |     468    |  184719 K  |  184719 K  |
|       from small pool |       0    |   35511    |  166611 K  |  166611 K  |
|---------------------------------------------------------------------------|
| Active allocs         |       2    |   35699    |  351331 K  |  351331 K  |
|       from large pool |       2    |     468    |  184719 K  |  184719 K  |
|       from small pool |       0    |   35511    |  166611 K  |  166611 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      64    |     198    |     198    |     134    |
|       from large pool |      33    |     165    |     165    |     132    |
|       from small pool |      31    |      33    |      33    |       2    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |       4    |   17390    |  207039 K  |  207039 K  |
|       from large pool |       4    |     167    |  121673 K  |  121673 K  |
|       from small pool |       0    |   17351    |   85365 K  |   85365 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


overriding args.task None to dset


using device: cuda:0

Using cache found in /home/aih/sina.wendrich/.cache/torch/hub/facebookresearch_dinov2_main
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torch/nn/_reduction.py:42: UserWarning: size_average and reduce args will be deprecated, please use reduction='sum' instead.
  warnings.warn(warning.format(ret))
/home/aih/sina.wendrich/miniconda3/envs/domainlab_py310/lib/python3.10/site-packages/torchmetrics/utilities/prints.py:36: UserWarning: Metric `AUROC` will save all targets and predictions in buffer. For large datasets this may lead to large memory footprint.
  warnings.warn(*args, **kwargs)



!!!: not committed yet
/ictstr01/home/aih/sina.wendrich/MA_thesis/DomainLab/domainlab/utils/get_git_tag.py:16: UserWarning: !!!: not committed yet
  warnings.warn("!!!: not committed yet")



b'888c1ef2'
model name: dset_te_0_dann_b888c1ef2_not_commited_2024md_07md_18_07_12_20_seed_1_22014189

 Experiment start at: 2024-07-18 07:12:20.379772
epoch: 1
---- Training Domain: 
slurmstepd: error: *** JOB 22014189 ON gpusrv38 CANCELLED AT 2024-07-18T11:34:05 DUE TO TIME LIMIT ***
